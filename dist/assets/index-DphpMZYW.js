const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MotorPage-Cq3_HChS.js","assets/vendor-4Tcq4FKx.js","assets/ItemCarousel-DEon6EHo.js","assets/chakra-ui-DQ51roc-.js","assets/i18n-DIbc6eF9.js","assets/giscus-xXxTbO4M.js","assets/recoil-ca5o5cJM.js","assets/axios-t--hEgTQ.js","assets/CarPage-BOgTiaCb.js","assets/WeaponCustomizer-DZCBwbjh.js","assets/r3f-three-B5yv-qbc.js","assets/r3f-leva-BDlIDhVH.js","assets/OIIA-DNLSikbm.js"])))=>i.map(i=>d[i]);
import{r as h,z as e,bP as lt,bQ as it,bR as ot,bS as ct,bT as Me,bU as dt,bV as ht,bW as gs,bX as xt,bY as jt,bZ as se,b_ as te,b$ as q,c0 as ut,c1 as mt,c2 as pt,c3 as X,c4 as gt,c5 as ft,c6 as bt,c7 as yt,c8 as vt,c9 as St,ca as wt,cb as Tt,cc as It,cd as ye,ce as Ee,cf as Z,cg as Ct,ch as je,ci as as,cj as ls,ck as _t,cl as Ft,cm as b,br as Dt,cn as At,co as Pt}from"./vendor-4Tcq4FKx.js";import{C as Rt,I as G,S as Lt,a as fs,c as kt,d as Nt,b as Mt,e as Et,B as p,F as L,f as ae,g as ve,T as _,L as Se,H as Y,h as C,D as Bt,i as Ot,j as zt,k as Ut,l as $t,m as qt,n as bs,M as ys,o as vs,p as Ss,q as ws,r as we,s as Te,A as Vt,t as Ht,u as Wt,v as Gt,w as Jt,x as Xt,y as Be,z as Yt,E as Kt,G as Qt,J as Zt,K as er,N as sr,O as tr,P as rr,Q as nr,R as ar,U as lr,V as Ts,W as ir,X as or,Y as Is,Z as Cs,_ as _s,$ as Fs,a0 as Ds,a1 as ue,a2 as cr,a3 as dr,a4 as hr,a5 as K,a6 as ee,a7 as y,a8 as As,a9 as Ps,aa as Rs,ab as B,ac as Ls,ad as xr,ae as ks,af as Ns,ag as Ms,ah as Es,ai as Bs,aj as Os,ak as zs,al as Us,am as $s,an as qs,ao as O,ap as z,aq as w,ar as a,as as U,at as l,au as is,av as Vs,aw as D,ax as A,ay as H,az as ne,aA as Ie,aB as Ce,aC as _e,aD as Fe,aE as De,aF as Ae,aG as Pe,aH as Re,aI as Le,aJ as ke,aK as Ne,aL as os,aM as cs,aN as ds,aO as W,aP as $}from"./chakra-ui-DQ51roc-.js";import{R as Hs,a as Ws,b as Gs,c as jr}from"./recoil-ca5o5cJM.js";import{y as ur,_ as ie}from"./giscus-xXxTbO4M.js";import{i as mr,B as pr,a as gr,u as M,t as hs}from"./i18n-DIbc6eF9.js";import{a as le}from"./axios-t--hEgTQ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(n){if(n.ep)return;n.ep=!0;const c=i(n);fetch(n.href,c)}})();function fr(t){return e.jsx(ct,{attribute:"class",disableTransitionOnChange:!0,...t})}function Oe(){const{resolvedTheme:t,setTheme:r}=lt();return{colorMode:t,setColorMode:r,toggleColorMode:()=>{r(t==="dark"?"light":"dark")}}}function Js(t,r){const{colorMode:i}=Oe();return i==="dark"?r:t}function br(){const{colorMode:t}=Oe();return t==="dark"?e.jsx(it,{}):e.jsx(ot,{})}const yr=h.forwardRef(function(r,i){const{toggleColorMode:o}=Oe();return e.jsx(Rt,{fallback:e.jsx(Lt,{boxSize:"8"}),children:e.jsx(G,{onClick:o,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:i,...r,css:{_icon:{width:"5",height:"5"}},children:e.jsx(br,{})})})});h.forwardRef(function(r,i){return e.jsx(fs,{color:"fg",display:"contents",className:"chakra-theme light",colorPalette:"gray",colorScheme:"light",ref:i,...r})});h.forwardRef(function(r,i){return e.jsx(fs,{color:"fg",display:"contents",className:"chakra-theme dark",colorPalette:"gray",colorScheme:"dark",ref:i,...r})});const vr=Nt({theme:{tokens:{colors:{primary:{DEFAULT:{value:"#FF6700"},50:{value:"#ffe6d5"},100:{value:"#ffcca9"},200:{value:"#ffb27a"},300:{value:"#ff984a"},400:{value:"#ff7e1a"},500:{value:"#FF6700"},600:{value:"#cc5200"},700:{value:"#993d00"},800:{value:"#662800"},900:{value:"#331400"}},secondary:{DEFAULT:{value:"#15A24E"},50:{value:"#e0f6e8"},100:{value:"#b3e9c5"},200:{value:"#80dba0"},300:{value:"#4dcd7a"},400:{value:"#26bf5e"},500:{value:"#15A24E"},600:{value:"#11853e"},700:{value:"#0d672e"},800:{value:"#094a1e"},900:{value:"#052d0e"}}}},semanticTokens:{colors:{bg:{DEFAULT:{value:{_light:"#F0F7EE",_dark:"#474847"}}},primary:{solid:{value:{_light:"{colors.primary.500}",_dark:"{colors.primary.500}"}},contrast:{value:{_light:"{colors.primary.100}",_dark:"{colors.primary.900}"}},focusRing:{value:{_light:"{colors.primary.500}",_dark:"{colors.primary.600}"}}},secondary:{solid:{value:{_light:"{colors.secondary.500}",_dark:"{colors.secondary.500}"}},contrast:{value:{_light:"{colors.secondary.100}",_dark:"{colors.secondary.900}"}},focusRing:{value:{_light:"{colors.secondary.500}",_dark:"{colors.secondary.600}"}}}}}}}),Sr=kt(Mt,vr);function wr(t){return e.jsx(Et,{value:Sr,children:e.jsx(fr,{...t})})}mr.use(pr).use(gr).init({lng:"zh",fallbackLng:"en",ns:["common","motorPage","carPage","aboutPage","projectPage"],defaultNS:"common",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1}});const Tr=({visitorStats:t})=>e.jsx(p,{as:"footer",w:"full",bg:Js("gray.100","gray.900"),children:e.jsxs(L,{py:2,px:6,alignItems:"center",children:[e.jsx(L,{gap:4}),e.jsx(ae,{}),e.jsx(ve,{size:"lg",color:"red",bg:"red"}),e.jsx(_,{color:"black",children:t?t.data[0].activeUsers:""}),e.jsx(ae,{}),e.jsxs(L,{gap:3,alignItems:"center",children:[e.jsx(Se,{href:"https://github.com/xiuger0x0",target:"_blank",focusRing:"none",children:e.jsx(G,{variant:"ghost",rounded:"full"})}),e.jsx(ve,{orientation:"vertical",height:"4"}),e.jsx(Se,{href:"https://www.youtube.com/@xiuger0x0",target:"_blank",focusRing:"none",children:e.jsx(G,{variant:"ghost",rounded:"full"})})]})]})}),Ir=Hs({key:"countState",default:0}),ze=Hs({key:"userState",default:null}),Cr=[{name:"page_title_telecommunication",path:"/telecommunication",children:[{name:"page_title_telecommunication_dashboard",path:"/telecommunication/dashboard"}]}],xs=({direction:t="row",onLinkClick:r})=>{const{t:i}=M("common"),o=Me(),n=gs(),c=Cr.filter(j=>!j.isDev),d=j=>j.split("/")[1];return e.jsx(bs,{as:"nav",align:"center",flexDirection:t,children:c.map(j=>j.children?e.jsxs(ys,{children:[e.jsx(vs,{children:e.jsx(p,{p:2,cursor:"pointer",borderBottom:"2px solid",borderBottomColor:d(n.pathname)===d(j.path)?"primary":"transparent",color:d(n.pathname)===d(j.path)?"primary":"inherit",_hover:{borderBottomColor:"primary",color:"primary"},children:i(j.name)})}),e.jsx(Ss,{children:e.jsx(ws,{children:e.jsx(we,{children:j.children.map(u=>e.jsx(Te,{value:u.path,onClick:()=>{o(u.path),r==null||r()},children:i(u.name)},u.path))})})})]},j.name):e.jsx(p,{onClick:()=>{o(j.path),r==null||r()},p:2,cursor:"pointer",borderBottom:"2px solid",borderBottomColor:d(n.pathname)===d(j.path)?"primary":"transparent",color:d(n.pathname)===d(j.path)?"primary":"inherit",_hover:{borderBottomColor:"primary",color:"primary"},children:i(j.name)},j.path))})},_r=({toggleLanguage:t})=>e.jsx(G,{variant:"ghost",rounded:"full",onClick:t,children:e.jsx(xt,{})}),Fr=({user:t,handleLogout:r})=>e.jsx(Y,{gap:"4",children:e.jsxs(ys,{children:[e.jsx(vs,{children:e.jsxs(Vt,{children:[e.jsx(Ht,{name:t.displayName??""}),e.jsx(Wt,{src:t.pictureUrl??""})]})}),e.jsx(Ss,{children:e.jsxs(ws,{children:[e.jsx(we,{children:e.jsx(Te,{value:"displayName",children:e.jsxs(_,{fontWeight:"medium",children:[hs("nickname"),"：",t.displayName]})})}),e.jsx(Gt,{}),e.jsx(we,{children:e.jsx(Te,{value:"logout",onClick:r,color:"fg.error",_hover:{bg:"bg.error",color:"fg.error"},children:hs("logout")})})]})})]})},t.displayName);function Dr(){const[t,r]=Ws(ze),[i,o]=h.useState(!1),[n,c]=h.useState(!1),d=h.useRef(0),{t:j,i18n:u}=M();h.useEffect(()=>{const g=()=>{const T=window.scrollY;T>100&&T>d.current?c(!0):c(!1),d.current=T};return window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),h.useEffect(()=>{const g=localStorage.getItem("user");g&&r(JSON.parse(g))},[r]);const F=Me(),P=()=>{F("/login")},R=()=>{r({userId:null,displayName:null,pictureUrl:null,userEmail:null}),localStorage.removeItem("token"),localStorage.removeItem("user"),F("/")},E=()=>{const g=u.language==="zh"?"en":"zh";u.changeLanguage(g)};return e.jsxs(p,{position:"fixed",top:n?"-80px":"0",left:"0",width:"100%",bg:Js("gray.100","gray.900"),transition:"top 0.3s ease",zIndex:"max",shadow:"xs",children:[e.jsxs(L,{h:14,alignItems:"center",justifyContent:"space-between",mx:4,children:[e.jsx(G,{onClick:()=>o(!i),display:{md:"none"},variant:"ghost",children:i?e.jsx(dt,{}):e.jsx(ht,{})}),e.jsx(Y,{children:e.jsx(Y,{as:"nav",display:{base:"none",md:"flex"},children:e.jsx(xs,{direction:"row"})})}),e.jsxs(L,{gap:2,children:[e.jsx(p,{display:{base:"none",md:"flex"}}),t!=null&&t.userEmail?e.jsx(Fr,{user:t,handleLogout:R}):e.jsx(C,{color:"green",variant:"surface",onClick:P,children:j("login")})]})]}),e.jsxs(Bt,{open:i,onOpenChange:g=>o(g.open),placement:"top",lazyMount:!0,unmountOnExit:!1,children:[e.jsx(Ot,{}),e.jsx(zt,{children:e.jsx(Ut,{children:e.jsxs($t,{children:[e.jsx(xs,{direction:"column",onLinkClick:()=>o(!1)}),e.jsxs(qt,{justifyContent:"space-between",children:[e.jsx(yr,{rounded:"full"}),e.jsx(_r,{toggleLanguage:E})]})]})})})]})]})}const V=jt({placement:"bottom-end",pauseOnPageIdle:!0}),Ar=()=>e.jsx(se,{children:e.jsx(Jt,{toaster:V,insetInline:{mdDown:"4"},children:t=>{var r;return e.jsxs(Xt,{width:{md:"sm"},children:[t.type==="loading"?e.jsx(Be,{size:"sm",color:"blue.solid"}):e.jsx(Yt,{}),e.jsxs(bs,{gap:"1",flex:"1",maxWidth:"100%",children:[t.title&&e.jsx(Kt,{children:t.title}),t.description&&e.jsx(Qt,{children:t.description})]}),t.action&&e.jsx(Zt,{children:t.action.label}),((r=t.meta)==null?void 0:r.closable)&&e.jsx(er,{})]})}})}),Pr=()=>{const[t,r]=h.useState(null);return h.useEffect(()=>{r({data:[{country:"",activeUsers:"2"},{country:"Taiwan",activeUsers:"2"}]})},[]),e.jsxs(L,{direction:"column",minH:"100vh",children:[e.jsx(Ar,{}),e.jsx(Dr,{}),e.jsx(p,{w:{base:"full",md:"80vw"},mx:"auto",flex:"1",px:{base:2,md:0},mt:14,py:2,children:e.jsx(h.Suspense,{children:e.jsx(te,{})})}),e.jsx(Tr,{visitorStats:t})]})},f=le.create({baseURL:"/api"});f.interceptors.request.use(t=>{const r=localStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t));const Rr="2006908042",Lr="8f2bce846d2657bdbb0733203e124000",kr="https://xiuger.cc/callback",Nr=()=>{const t=Me(),r=h.useCallback(async()=>{const o=new URLSearchParams(window.location.search).get("code");if(!o){console.error("❌ No authorization code found!");return}try{const n={grant_type:"authorization_code",code:o,redirect_uri:kr,client_id:Rr,client_secret:Lr},{data:c}=await le.post("https://api.line.me/oauth2/v2.1/token",new URLSearchParams(n).toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});await f.post("/line/login",{idToken:c.id_token});const{data:d}=await le.get("https://api.line.me/v2/profile",{headers:{Authorization:`Bearer ${c.access_token}`}}),j={lineId:d.userId,displayName:d.displayName,pictureUrl:d.pictureUrl,email:d.email??null};localStorage.setItem("user",JSON.stringify(j)),await f.post("/line/login",j),console.log("✅ LINE User successfully logged in!"),t("/")}catch(n){console.error("❌ LINE 登入失敗:",n)}},[t]);return h.useEffect(()=>{r()},[r]),e.jsx("div",{children:"登入中..."})},Mr=h.forwardRef(function(r,i){const{showArrow:o,children:n,disabled:c,portalled:d=!0,content:j,contentProps:u,portalRef:F,...P}=r;return c?n:e.jsxs(sr,{...P,children:[e.jsx(tr,{asChild:!0,children:n}),e.jsx(se,{disabled:!d,container:F,children:e.jsx(rr,{children:e.jsxs(nr,{ref:i,...u,children:[o&&e.jsx(ar,{children:e.jsx(lr,{})}),j]})})})]})}),Q={bg:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"5px",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"},me=h.forwardRef(function(r,i){return e.jsxs(Ts,{ref:i,children:[e.jsx(ir,{}),e.jsx(or,{...r})]})}),Er=Is,pe=_s,ge=Cs,fe=Fs,be=Ds,Br=()=>{const t="Xiuger",{t:r}=M("common"),{t:i}=M("aboutPage");return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[t," | ",r("page_title_about")]})}),e.jsx(L,{gap:4,flexDirection:"column",children:e.jsx(Mr,{content:i("tooltip.topImg"),children:e.jsx(Y,{...Q,bgImage:"url('/images/about_fp.jpg')",bgSize:"cover",bgPos:"center",bgRepeat:"no-repeat",minH:"80vh",alignItems:"flex-end",shadow:"md",children:e.jsx(p,{...Q,p:4,m:4,mt:"250px",w:{base:"100%",md:"auto"},rounded:"md",children:e.jsxs(p,{children:[e.jsxs(Er,{maxW:"600px",children:[e.jsxs(ge,{children:[e.jsx(me,{children:e.jsx(ut,{})}),e.jsxs(pe,{children:[e.jsx(fe,{textStyle:"sm",children:e.jsx(ue,{whiteSpace:"normal",wordBreak:"break-word",maxW:"full",children:i("timeline.military")})}),e.jsx(be,{children:"April 2017 - April 2021"})]})]}),e.jsxs(ge,{children:[e.jsx(me,{children:e.jsx(mt,{})}),e.jsxs(pe,{children:[e.jsx(fe,{textStyle:"sm",children:e.jsx(ue,{whiteSpace:"normal",wordBreak:"break-word",maxW:"full",children:i("timeline.training")})}),e.jsx(be,{children:"June 2022 ~ October 2022"}),e.jsx(_,{fontSize:"xs",children:i("timeline.trainingDetail")})]})]}),e.jsxs(ge,{children:[e.jsx(me,{children:e.jsx(pt,{})}),e.jsxs(pe,{children:[e.jsx(fe,{textStyle:"sm",children:e.jsx(ue,{whiteSpace:"normal",wordBreak:"break-word",maxW:"full",children:i("timeline.university")})}),e.jsxs(be,{children:["June 2023 ~ ",i("timeline.now")]})]})]})]}),e.jsxs(cr,{children:[e.jsx(dr,{children:e.jsxs("cite",{children:[" ",i("philosophy")]})}),e.jsx(hr,{})]})]})})})})})]})},Or=()=>{const t="Xiuger",[r,i]=Ws(Ir),{t:o}=M(),n=()=>{f.get("/test").then(c=>{alert("API 回應："+JSON.stringify(c.data))}).catch(c=>{alert("API 錯誤:"+c)})};return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[t," | ",o("page_title_home")]})}),e.jsxs(p,{children:[e.jsx(K,{as:"h1",mb:5,children:"歡迎來到我的部落格"}),e.jsxs(ee,{align:"stretch",children:[e.jsxs(p,{children:[e.jsx(K,{as:"h2",size:"lg",mt:4,children:"部落格標題"}),e.jsx(_,{mt:2,children:"這是一段部落格的介紹文字，簡單描述這篇文章的內容。"}),e.jsx(ae,{my:4}),e.jsx(y,{value:r,disabled:!0}),e.jsx(ae,{my:4}),e.jsxs(Y,{children:[e.jsx(C,{onClick:()=>i(r+1),children:"Increment"}),e.jsx(C,{onClick:n,children:"API測試"})," "]})]}),e.jsx(ur,{id:"comments",repo:"xiuger0x0/giscus",repoId:"R_kgDOOWgpEA",category:"General",categoryId:"DIC_kwDOOWgpEM4Co7CA",reactionsEnabled:"0",mapping:"specific",strict:"1",term:"VPS留言板",emitMetadata:"1",theme:"noborder_dark",lang:"zh-TW",loading:"lazy"})]})]})]})},zr="2006347958-x0PM2Vp1",Ur=()=>{const t="Xiuger",[r,i]=h.useState(null),[o,n]=h.useState(!1),[c,d]=h.useState(!0);h.useEffect(()=>{alert("📢 開始初始化 LIFF..."),X.init({liffId:zr}).then(()=>{alert("✅ LIFF 初始化成功！"),n(X.isInClient()),X.isLoggedIn()?(alert("🔵 已登入，獲取用戶資料..."),j()):(alert("🔴 未登入，將進行登入..."),X.login())}).catch(u=>alert("❌ LIFF 初始化失敗："+u.message))},[]);const j=async()=>{try{alert("📢 等待 LIFF SDK 就緒..."),await X.ready,alert("✅ LIFF SDK 已就緒，開始獲取用戶資料...");const u=await X.getProfile();alert(`🎉 取得用戶資料成功！
👤 名稱：${u.displayName}`),i({displayName:u.displayName,pictureUrl:u.pictureUrl||"",userId:u.userId,userEmail:""})}catch(u){alert("❌ 取得用戶資料失敗："+u)}finally{d(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[t," | LIFF"]})}),e.jsx(p,{textAlign:"center",mt:"20px",children:o?c?e.jsx(Be,{size:"xl"}):r?e.jsxs(e.Fragment,{children:[e.jsxs(K,{as:"h2",children:["你好, ",r.displayName," 👋"]}),e.jsx(As,{src:r.pictureUrl||"",alt:"User Avatar",boxSize:"100px",borderRadius:"full",mt:"10px"})]}):e.jsx(_,{children:"無法獲取用戶資料"}):e.jsx(_,{children:"請使用 LINE 開啟此頁面"})})]})},$r=()=>{const t="Xiuger",{t:r}=M();return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[t," | ",r("page_title_service")]})}),e.jsxs(p,{children:[e.jsx("h1",{children:"Service Page"}),e.jsx("p",{children:"Welcome to the Service Page. Here you can find information about our services."})]})]})},qr=[{name:"motorcycle",icon:gt},{name:"car",icon:ft}],Vr=()=>{const t="Xiuger",{t:r}=M(),i=gs();return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[t," | ",r("page_title_item")]})}),e.jsxs(L,{children:[e.jsx(Ps,{defaultValue:"a",variant:"subtle",orientation:"vertical",position:"fixed",left:4,top:"50%",transform:"translateY(-50%)",zIndex:"max",children:e.jsx(Rs,{p:"1",gap:1,borderColor:"gray",...Q,children:qr.map((o,n)=>{const c=i.pathname.includes(o.name);return e.jsx(B,{value:o.name[0],asChild:!0,_hover:{bg:"primary",color:"white"},color:c?"white":"inherit",bg:c?"primary":"",children:e.jsx(bt,{to:o.name,children:e.jsx(o.icon,{})})},n)})})}),e.jsx(p,{flex:1,children:e.jsx(h.Suspense,{children:e.jsx(te,{})})})]})]})},Hr=()=>e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:["Xiuger"," | 404"]})}),e.jsx(L,{w:"100vw",h:"100vh",alignItems:"center",justifyContent:"center",fontSize:"2xl",fontWeight:"bold",children:"404 Not Found | 這裡什麼都沒有"})]}),Wr={infinite:!1,speed:500,slidesToShow:2,slidesToScroll:1,dots:!1,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}}]},Gr=[{id:"A_personalWebsite",image:"https://images.unsplash.com/photo-1516796181074-bf453fbfa3e6?auto=format&fit=crop&w=900&q=60",link:"#A"},{id:"B_travelAlbum",image:"https://images.unsplash.com/photo-1438183972690-6d4658e3290e?auto=format&fit=crop&w=2274&q=80",link:"#B"},{id:"C_travelAlbum",image:"https://images.unsplash.com/photo-1438183972690-6d4658e3290e?auto=format&fit=crop&w=2274&q=80",link:"#B"},{id:"D_travelAlbum",image:"https://images.unsplash.com/photo-1438183972690-6d4658e3290e?auto=format&fit=crop&w=2274&q=80",link:"#B"}],Jr=(t,r,i,o)=>[{icon:e.jsx(vt,{}),title:t(`projects.${r}.timeline.start.title`),description:t(`projects.${r}.timeline.start.description`),period:t(`projects.${r}.timeline.start.period`)},{icon:e.jsx(St,{}),title:t(`projects.${r}.timeline.draft.title`),description:t(`projects.${r}.timeline.draft.description`),period:t(`projects.${r}.timeline.draft.period`)},{icon:e.jsx(wt,{}),title:t(`projects.${r}.timeline.launch.title`),description:t(`projects.${r}.timeline.launch.description`),period:t(`projects.${r}.timeline.launch.period`),image:i,link:o}],Xr=()=>{const t="Xiuger",{t:r}=M("common"),{t:i}=M("projectPage");return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[t," | ",r("page_title_project")]})}),e.jsx(p,{maxW:"100vw",overflow:"hidden",children:e.jsx(yt,{...Wr,children:Gr.map(({id:o,image:n,link:c})=>e.jsx(p,{px:2,children:e.jsx(Is,{minH:"80vh",maxW:"900px",mx:"auto",p:4,pr:6,...Q,children:Jr(i,o,n,c).map((d,j)=>e.jsxs(Cs,{children:[e.jsx(Ts,{children:d.icon}),e.jsxs(_s,{children:[e.jsx(Fs,{textStyle:"sm",children:d.title}),e.jsxs(Ds,{children:[d.period&&e.jsx(_,{mb:1,fontSize:"sm",color:"gray.500",children:d.period}),e.jsx(_,{mb:2,children:d.description}),j===2&&d.image&&e.jsx(p,{mb:2,borderRadius:"md",overflow:"hidden",children:e.jsx(As,{src:d.image,alt:d.title,aspectRatio:4/2})}),j===2&&d.link&&e.jsx(Se,{href:d.link,color:"teal.500",target:"_blank",rel:"noopener noreferrer",fontWeight:"bold",children:i("viewProject")})]})]})]},j))})},o))})})]})};function Yr(){return e.jsx(p,{style:{width:"100vw",height:"100vh",overflow:"hidden"},children:e.jsx(te,{})})}const Kr=async t=>{const r=t?`/guns/by-member/${t}`:"/guns/getAll";return f.get(r)},Qr=t=>f.post("/guns",t),Zr=(t,r)=>f.put(`/guns/${t}`,r),en=t=>f.delete(`/guns/${t}`),sn=()=>{const t=localStorage.getItem("user");if(!t)throw new Error("User not found in localStorage");console.log("User data from localStorage:",t);const r=JSON.parse(t),i=r==null?void 0:r.userId;if(!i)throw new Error("User ID missing");return f.get(`/guns/${i}`)},js=()=>{const[t,r]=h.useState([]),[i,o]=h.useState(!0),[n,c]=h.useState({}),[d,j]=h.useState(null),[u,F]=h.useState(""),[P,R]=h.useState(!1),E="Xiuger",{t:g}=M("common"),T=async()=>{try{const x=await sn();console.log("Fetched user:",x.data)}catch(x){console.error("Failed to fetch user",x)}},I=async()=>{o(!0);const x=await Kr(u);console.log("Fetched guns:",x.data),r(Array.isArray(x.data)?x.data:[x.data]),o(!1)};h.useEffect(()=>{T(),I()},[]);const k=async()=>{!n.model||!n.serialNumber||(d!==null?await Zr(d,n):await Qr(n),await I(),c({}),j(null),R(!1))},oe=async x=>{await en(x),await I()};return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("title",{children:[E," | ",g("page_title_airsoft")]})}),e.jsxs(p,{maxW:"6xl",mx:"auto",p:5,children:[e.jsx(K,{mb:4,children:"氣槍管理"}),e.jsxs(L,{mb:4,gap:2,wrap:"wrap",align:"flex-end",children:[e.jsx(y,{placeholder:"查詢會員編號",value:u,onChange:x=>F(x.target.value)}),e.jsx(C,{onClick:I,variant:"outline",children:"查詢"}),e.jsxs(Ls,{open:P,onOpenChange:x=>R(x.open),children:[e.jsx(xr,{asChild:!0,children:e.jsx(C,{colorScheme:"blue",children:d!==null?"編輯槍枝":"新增槍枝"})}),e.jsxs(se,{children:[e.jsx(ks,{}),e.jsx(Ns,{children:e.jsxs(Ms,{children:[e.jsx(Es,{children:e.jsx(Bs,{children:d?"編輯槍枝":"新增槍枝"})}),e.jsx(Os,{children:e.jsxs(L,{direction:"column",gap:3,children:[e.jsx(y,{placeholder:"槍型",value:n.model??"",onChange:x=>c({...n,model:x.target.value})}),e.jsx(y,{placeholder:"序號",value:n.serialNumber??"",onChange:x=>c({...n,serialNumber:x.target.value})}),e.jsx(y,{placeholder:"動力類型 (AEG/Gas/CO2/Manual)",value:n.powerType??"",onChange:x=>c({...n,powerType:x.target.value})}),e.jsx(y,{type:"number",placeholder:"0.25g 彈速",value:n.velocity025??"",onChange:x=>c({...n,velocity025:parseFloat(x.target.value)})}),e.jsx(y,{type:"number",placeholder:"0.36g 彈速",value:n.velocity036??"",onChange:x=>c({...n,velocity036:parseFloat(x.target.value)})}),e.jsx(y,{type:"datetime-local",placeholder:"最後保養時間",value:n.lastMaintenanceAt?n.lastMaintenanceAt.slice(0,16):"",onChange:x=>c({...n,lastMaintenanceAt:x.target.value})})]})}),e.jsxs(zs,{children:[e.jsx(Us,{asChild:!0,children:e.jsx(C,{variant:"outline",children:"取消"})}),e.jsx(C,{onClick:k,children:d?"更新":"新增"})]}),e.jsx($s,{asChild:!0,children:e.jsx(qs,{size:"sm"})})]})})]})]})]}),i?e.jsx(Be,{}):e.jsxs(O,{children:[e.jsx(z,{children:e.jsxs(w,{whiteSpace:"nowrap",children:[e.jsx(a,{children:"會員編號"}),e.jsx(a,{children:"槍型"}),e.jsx(a,{children:"序號"}),e.jsx(a,{children:"動力"}),e.jsx(a,{children:"0.25g"}),e.jsx(a,{children:"0.36g"}),e.jsx(a,{children:"上次保養"}),e.jsx(a,{children:"操作"})]})}),e.jsx(U,{children:t.map(x=>e.jsxs(w,{children:[e.jsx(l,{children:x.owner.id}),e.jsx(l,{children:x.model}),e.jsx(l,{children:x.serialNumber}),e.jsx(l,{children:x.powerType}),e.jsx(l,{children:e.jsx(is,{value:x.velocity025,style:"unit",unit:"meter-per-second",minimumFractionDigits:0,maximumFractionDigits:1})}),e.jsx(l,{children:e.jsx(is,{value:x.velocity036,style:"unit",unit:"meter-per-second",minimumFractionDigits:0,maximumFractionDigits:1})}),e.jsx(l,{children:x.lastMaintenanceAt?new Date(x.lastMaintenanceAt).toLocaleString():"—"}),e.jsxs(l,{children:[e.jsx(G,{"aria-label":"edit",onClick:()=>{c(x),j(x.id),R(!0)},mr:2,children:e.jsx(Tt,{})}),e.jsx(G,{"aria-label":"delete",onClick:()=>oe(x.id),colorScheme:"red",children:e.jsx(It,{})})]})]},x.id))})]})]})]})},tn={BASIC:"免費會員",PRO:"專業會員 - 1 NTD/月",VIP:"尊榮會員 - 10 NTD/月"},us=ye({items:Object.entries(tn).map(([t,r])=>({label:r,value:t}))}),rn=()=>{const{register:t,handleSubmit:r,control:i,formState:{errors:o},setValue:n,watch:c}=Ee({defaultValues:{email:"",password:"",password2:"",displayName:"",phone:"",memberLevel:["BASIC"]}}),[d,j]=h.useState(null),[u,F]=h.useState(!1),P=Gs(ze),R=c("password"),E=async g=>{var T;try{j(null),F(!1);const I=await f.post("/members/register",g);F(!0);const k={displayName:I.data.displayName,userEmail:I.data.email,token:I.data.token,userId:null,pictureUrl:null,is_admin:!1};localStorage.setItem("user",JSON.stringify(k)),localStorage.setItem("token",k.token),P(k),window.location.href="/"}catch(I){if(le.isAxiosError(I)){const k=((T=I.response)==null?void 0:T.data)||I.message||"註冊失敗，請稍後再試";j(k)}else j("註冊失敗，請稍後再試")}};return e.jsxs(p,{maxW:"md",mx:"auto",my:10,p:6,...Q,children:[e.jsx(Vs,{pb:4,children:e.jsx(K,{size:"2xl",children:"註冊"})}),e.jsx("form",{onSubmit:r(E),children:e.jsxs(ee,{align:"stretch",children:[e.jsxs(D,{required:!0,children:[e.jsxs(A,{children:["電子郵件 (帳號) ",e.jsx(H,{})]}),e.jsx(y,{type:"email",placeholder:"請輸入電子郵件",...t("email",{required:"請輸入電子郵件",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"電子郵件格式不正確"}})}),o.email&&e.jsx(ne,{color:"red.500",children:o.email.message})]}),e.jsxs(D,{required:!0,children:[e.jsxs(A,{children:["密碼 ",e.jsx(H,{})]}),e.jsx(y,{type:"password",placeholder:"密碼",...t("password",{required:"請輸入密碼"})}),o.password&&e.jsx(ne,{color:"red.500",children:o.password.message})]}),e.jsxs(D,{required:!0,children:[e.jsxs(A,{children:["再次輸入密碼 ",e.jsx(H,{})]}),e.jsx(y,{type:"password",placeholder:"請再次輸入密碼",...t("password2",{required:"請再次輸入密碼",validate:g=>g===R||"密碼輸入不一致"})}),o.password2&&e.jsx(ne,{color:"red.500",children:o.password2.message})]}),e.jsxs(D,{required:!0,children:[e.jsxs(A,{children:["暱稱 ",e.jsx(H,{})]}),e.jsx(y,{placeholder:"暱稱",...t("displayName")})]}),e.jsxs(D,{children:[e.jsx(A,{children:"電話"}),e.jsx(y,{placeholder:"電話",...t("phone")})]}),e.jsxs(D,{required:!0,children:[e.jsxs(A,{children:["會員等級 ",e.jsx(H,{})]}),e.jsx(Z,{name:"memberLevel",control:i,rules:{validate:g=>Array.isArray(g)&&g.length>0||"請選擇會員等級"},render:({field:g})=>e.jsxs(Ie,{name:g.name,value:g.value,onValueChange:T=>n("memberLevel",T.value),onInteractOutside:()=>g.onBlur(),collection:us,children:[e.jsx(Ce,{}),e.jsxs(_e,{children:[e.jsx(Fe,{children:e.jsx(De,{placeholder:"請選擇會員等級"})}),e.jsx(Ae,{children:e.jsx(Pe,{})})]}),e.jsx(se,{children:e.jsx(Re,{children:e.jsx(Le,{children:us.items.map(T=>e.jsxs(ke,{item:T,children:[T.label,e.jsx(Ne,{})]},T.value))})})})]})}),o.memberLevel&&e.jsx(ne,{color:"red.500",children:o.memberLevel.message})]}),d&&e.jsxs(os,{status:"error",children:[e.jsx(cs,{}),e.jsx(ds,{children:d})]}),u&&e.jsxs(os,{status:"success",children:[e.jsx(cs,{}),e.jsx(ds,{children:"註冊成功！"})]}),e.jsx(C,{colorScheme:"teal",type:"submit",children:"送出"})]})})]})},nn=({onLogin:t,onLineLogin:r,onRegister:i})=>{const{control:o,handleSubmit:n,formState:{errors:c,isSubmitting:d}}=Ee(),j=u=>{t(u)};return e.jsxs(p,{maxW:"md",mx:"auto",my:10,p:6,rounded:"xl",...Q,children:[e.jsx(Vs,{pb:4,children:e.jsx(K,{size:"2xl",children:"登入"})}),e.jsx("form",{onSubmit:n(j),children:e.jsxs(ee,{align:"stretch",children:[e.jsx(Z,{name:"email",control:o,rules:{required:"請輸入帳號"},render:({field:u})=>e.jsxs(D,{invalid:!!c.email,required:!0,children:[e.jsxs(A,{children:["帳號 ",e.jsx(H,{})]}),e.jsx(y,{...u}),c.email&&e.jsx(W,{children:c.email.message})]})}),e.jsx(Z,{name:"password",control:o,rules:{required:"請輸入密碼"},render:({field:u})=>e.jsxs(D,{invalid:!!c.password,required:!0,children:[e.jsxs(A,{children:["密碼",e.jsx(H,{})]}),e.jsx(y,{...u,type:"password"}),c.password&&e.jsx(W,{children:c.password.message})]})}),e.jsx(C,{colorScheme:"teal",type:"submit",disabled:d,width:"100%",children:"登入"})]})}),e.jsx(ve,{my:6}),e.jsxs(ee,{align:"center",children:[e.jsx(_,{color:"gray.500",fontSize:"sm",children:"或使用其他方式登入"}),e.jsx(C,{onClick:r,bg:"#06C755",color:"white",_hover:{bg:"#05B34F"},width:"100%",children:"使用 LINE 登入"}),e.jsx(C,{onClick:i,colorScheme:"teal",fontSize:"sm",width:"100%",children:"還沒有帳號嗎？前往註冊"})]})]})},an=()=>e.jsx(p,{children:e.jsx(te,{})}),ln=()=>e.jsx(p,{children:e.jsx(te,{})}),ms=()=>{var es,ss,ts,rs,ns;const[t,r]=h.useState("user"),[i,o]=h.useState(""),[n,c]=h.useState([]),[d,j]=h.useState([]),[u,F]=h.useState([]),[P,R]=h.useState([]),[E,g]=h.useState([]),[T,I]=h.useState([]),[k,oe]=h.useState([]),[x,re]=h.useState(!1),Ue=new Date().getFullYear(),$e=new Date().getMonth()+1,[qe,Xs]=h.useState(Ue),[Ve,Ys]=h.useState($e),[v,He]=h.useState(null),[We,Ge]=h.useState(null),Je=()=>{c([]),j([]),F([]),R([]),g([]),I([]),He(null),Ge(null)},ce=async(s,m=Ue,S=$e)=>{try{const J=await f.get("/telecom/bills",{params:{phone:s,year:m,month:S}});I(J.data)}catch{V.create({title:"查詢帳單失敗",description:"請確認查詢條件或稍後再試。",type:"error"}),I([])}},Ks=async()=>{try{const m=(await f.post("/telecom/generate-bills")).data.map(S=>({userId:S.user.id,phoneNumber:S.user.phoneNumber,userName:S.user.name,planName:S.user.currentPlan.name,baseFee:S.baseFee,callFee:S.callFee,smsFee:S.smsFee,dataFee:S.dataFee,discount:S.discountTotal,totalAmount:S.totalAmount,issuedAt:S.issuedAt,paidAt:S.paidAt??null}));I(m),V.create({title:"模擬成功",description:"帳單已產生。",type:"success"})}catch{V.create({title:"模擬失敗",description:"無法產生帳單，請稍後再試。",type:"error"})}},Qs=async()=>{try{const s=await f.get("/telecom/users/usage-summary",{params:{phone:i}});He(s.data),Ge(s.data.mostContacted||null)}catch(s){console.error("取得使用摘要失敗",s)}},Zs=async()=>{const s=await f.get("/telecom/plans");return oe(s.data),s.data},Xe=async()=>{Je();try{const[s,m,S,J,xe]=await Promise.all([f.get("/telecom/users"),f.get("/telecom/calls"),f.get("/telecom/sms"),f.get("/telecom/data-usage"),f.get("/telecom/data-usage/top10"),ce()]);c(s.data),j(m.data),F(S.data),R(J.data),g(xe.data)}catch{V.create({title:"查詢失敗",description:"無法查詢用戶與使用紀錄，請稍後再試。",type:"error"})}},Ye=async s=>{if(!s){Xe();return}Je();try{const[m,S,J,xe]=await Promise.all([f.get("/telecom/calls",{params:{phone:s}}),f.get("/telecom/users",{params:{phone:s}}),f.get("/telecom/sms",{params:{phone:s}}),f.get("/telecom/data-usage",{params:{phone:s}}),ce(s)]);c(S.data),j(m.data),F(J.data),R(xe.data),Qs()}catch{V.create({title:"查詢失敗",description:"無法查詢用戶資訊與紀錄，請稍後再試。",type:"error"})}};h.useEffect(()=>{Ye(),Zs()},[]);const Ke=ye({items:[{label:"月租",value:"POSTPAID"},{label:"預付",value:"PREPAID"}]}),Qe=k.map(s=>({id:s.id,value:s.id.toString(),label:`${s.name} ${s.monthlyFee}元/月`,name:s.name,monthlyFee:s.monthlyFee})),et=ye({items:Qe}),st=Ct({name:je().min(1,{message:"請輸入姓名"}).max(20,{message:"姓名不能超過 20 字元"}),number:je().length(8,{message:"門號長度必須為 8 位數"}),subscriberType:as(ls(["POSTPAID","PREPAID"],{required_error:"請選擇訂閱者類型",invalid_type_error:"無效的訂閱者類型"})).min(1,{message:"請至少選擇一種訂閱者類型"}).max(1,{message:"最多只能選擇一種訂閱者類型"}),planId:as(ls(["1","2","3"],{invalid_type_error:"無效的方案 ID"})).optional(),ssn:je().length(10,{message:"SSN 必須為 10 位數"})}).refine(s=>!s.subscriberType.includes("POSTPAID")||s.planId&&s.planId.length>0,{path:["planId"],message:"月租型用戶請選擇方案"}),{handleSubmit:tt,control:Ze,register:de,formState:{errors:N},watch:rt,reset:he}=Ee({resolver:_t(st)}),nt=(rt("subscriberType")??[]).includes("POSTPAID"),at=async s=>{try{await f.post("/telecom/register",{name:s.name,number:s.number,planId:s.planId,subscriberType:s.subscriberType}).then(()=>{he(),re(!1)}),V.create({title:"註冊成功",description:"用戶已成功註冊。",type:"success",duration:3e3}),Xe()}catch{alert("註冊失敗")}};return e.jsxs(p,{p:6,children:[e.jsxs(Ps,{value:t,onValueChange:s=>r(s.value),children:[e.jsxs(Rs,{children:[e.jsx(B,{value:"plan",children:"方案一覽"}),e.jsx(B,{value:"user",children:"用戶列表"}),e.jsx(B,{value:"info",children:"用戶細節"}),e.jsx(B,{value:"usage_call",children:"通話紀錄 (30日)"}),e.jsx(B,{value:"usage_data",children:"流量紀錄 (30日)"}),!i&&e.jsx(B,{value:"usage_data_top10",children:"流量排行前十"}),e.jsx(B,{value:"usage_sms",children:"簡訊紀錄"}),e.jsx(B,{value:"invoice",children:"帳單紀錄"})]}),e.jsxs(Y,{my:4,children:[e.jsx(y,{placeholder:"輸入門號",value:i,onChange:s=>o(s.target.value)}),e.jsx(C,{onClick:()=>Ye(i),children:"查詢"}),e.jsx(C,{colorScheme:"blue",onClick:()=>re(!0),children:"➕ 新增用戶"})]}),e.jsx($,{value:"user",children:n.length>0&&e.jsxs(O,{mt:6,size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"用戶 ID"}),e.jsx(a,{children:"姓名"}),e.jsx(a,{children:"門號"}),e.jsx(a,{children:"方案"}),e.jsx(a,{children:"申辦時間"}),e.jsx(a,{children:"SSN"}),e.jsx(a,{children:"地址"}),e.jsx(a,{children:"城市"}),e.jsx(a,{children:"國家"}),e.jsx(a,{children:"郵遞區號"})]})}),e.jsx(U,{children:n.map(s=>e.jsxs(w,{children:[e.jsx(l,{children:s.id}),e.jsx(l,{children:s.name}),e.jsx(l,{children:s.number}),e.jsx(l,{children:s.planName}),e.jsx(l,{children:s.createdAt}),e.jsx(l,{children:s.ssn||"限管理者檢視"}),e.jsx(l,{children:s.address||"無資料"}),e.jsx(l,{children:s.city||"無資料"}),e.jsx(l,{children:s.country||"無資料"}),e.jsx(l,{children:s.postalCode||"無資料"})]},s.id))})]})}),e.jsx($,{value:"plan",children:e.jsx(p,{mt:4,children:e.jsxs(O,{size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"方案 ID"}),e.jsx(a,{children:"方案名稱"}),e.jsx(a,{children:"月租費用"}),e.jsx(a,{children:"免費簡訊數"}),e.jsx(a,{children:"包含流量 (MB)"}),e.jsx(a,{children:"計費類型"}),e.jsx(a,{children:"資料政策"}),e.jsx(a,{children:"超出費用政策"}),e.jsx(a,{children:"限速政策"}),e.jsx(a,{children:"生效日期"})]})}),e.jsx(U,{children:k.map(s=>e.jsxs(w,{children:[e.jsx(l,{children:s.id}),e.jsx(l,{children:s.name}),e.jsxs(l,{children:["$",s.monthlyFee]}),e.jsx(l,{children:s.includedSms}),e.jsx(l,{children:s.includedDataMb!=99999?`${s.includedDataMb} MB`:"不限"}),e.jsx(l,{children:s.billingType==="POSTPAID"?"月租":"預付"}),e.jsx(l,{children:s.dataPolicy}),e.jsx(l,{children:s.overagePolicy==="THROTTLE"?`限速 ${s.throttleSpeedKbps} Kbps`:"無額外費用"}),e.jsx(l,{children:s.throttleAfterMb?`${s.throttleAfterMb} MB 後限速 `:"無限速限制"}),e.jsx(l,{children:s.effectiveFrom?new Date(s.effectiveFrom).toLocaleDateString():"無生效日期"})]},s.id))})]})})}),e.jsxs($,{value:"usage_call",children:[d.length>0?e.jsxs(O,{mt:4,size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"發送人 (ID)"}),e.jsx(a,{children:"時間"}),e.jsx(a,{children:"對象"}),e.jsx(a,{children:"時長 (分鐘)"})]})}),e.jsx(U,{children:d.map((s,m)=>e.jsxs(w,{children:[e.jsx(l,{children:s.id}),e.jsx(l,{children:s.timestamp}),e.jsx(l,{children:s.receiver}),e.jsx(l,{children:s.durationMinutes})]},m))})]}):e.jsx(p,{mt:4,children:"尚無通話紀錄"}),e.jsxs(_,{m:2,children:["總筆數：",d.length]})]}),e.jsxs($,{value:"usage_sms",children:[u.length>0?e.jsxs(O,{mt:4,size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"發送人 (ID)"}),e.jsx(a,{children:"發送時間"}),e.jsx(a,{children:"對象"}),e.jsx(a,{children:"狀態"})]})}),e.jsx(U,{children:u.map((s,m)=>e.jsxs(w,{children:[e.jsx(l,{children:s.userId}),e.jsx(l,{children:s.sentAt}),e.jsx(l,{children:s.recipient}),e.jsx(l,{children:s.status})]},m))})]}):e.jsx(p,{mt:4,children:"尚無簡訊紀錄"}),e.jsxs(_,{m:2,children:["總筆數：",u.length]})]}),e.jsxs($,{value:"usage_data",children:[P.length>0?e.jsxs(O,{mt:4,size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"用戶ID"}),e.jsx(a,{children:"用戶名稱"}),e.jsx(a,{children:"上傳 (MB)"}),e.jsx(a,{children:"下載 (MB)"}),e.jsx(a,{children:"總流量 (MB)"})]})}),e.jsx(U,{children:P.map((s,m)=>e.jsxs(w,{children:[e.jsx(l,{children:s.userId}),e.jsx(l,{children:s.userName}),e.jsx(l,{children:s.uploadMb}),e.jsx(l,{children:s.downloadMb}),e.jsx(l,{children:s.totalMb})]},m))})]}):e.jsx(p,{mt:4,children:"尚無流量紀錄"}),e.jsxs(_,{m:2,children:["總筆數：",P.length]})]}),!i&&e.jsxs($,{value:"usage_data_top10",children:[E.length>0?e.jsxs(O,{mt:4,size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"用戶ID"}),e.jsx(a,{children:"用戶名稱"}),e.jsx(a,{children:"門號"}),e.jsx(a,{children:"總流量 (MB)"})]})}),e.jsx(U,{children:E.map((s,m)=>e.jsxs(w,{children:[e.jsx(l,{children:s.userId}),e.jsx(l,{children:s.userName}),e.jsx(l,{children:s.phoneNumber}),e.jsx(l,{children:s.totalUsageMb.toFixed(2)})]},m))})]}):e.jsx(p,{mt:4,children:"尚無流量排行前十紀錄"}),e.jsxs(_,{m:2,children:["總筆數：",E.length]})]}),e.jsx($,{value:"info",children:e.jsxs(p,{mt:5,children:[We&&e.jsxs(_,{mb:2,children:["最常聯絡對象: ",We||"無資料"]}),(v&&e.jsxs(O,{mt:4,size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"使用者"}),e.jsx(a,{children:"門號"}),e.jsx(a,{children:"方案名稱"}),e.jsx(a,{children:"通話次數"}),e.jsx(a,{children:"簡訊次數"}),e.jsx(a,{children:"總上網用量(MB)"})]})}),e.jsx(U,{children:e.jsxs(w,{children:[e.jsx(l,{children:v==null?void 0:v.user.name}),e.jsx(l,{children:v==null?void 0:v.user.phoneNumber}),e.jsx(l,{children:v==null?void 0:v.user.currentPlan.name}),e.jsx(l,{children:v==null?void 0:v.callCount}),e.jsx(l,{children:v==null?void 0:v.smsCount}),e.jsxs(l,{children:[v==null?void 0:v.totalDataUsageMb.toFixed(2)," MB"]})]})})]}))??e.jsx(p,{mt:4,children:"尚未查詢用戶使用明細"})]})}),e.jsxs($,{value:"invoice",children:[e.jsxs(p,{display:"flex",alignItems:"center",gap:2,mb:3,children:[e.jsx(y,{type:"number",placeholder:"年份",value:qe,onChange:s=>Xs(Number(s.target.value))}),e.jsx(y,{type:"number",placeholder:"月份",value:Ve,onChange:s=>Ys(Number(s.target.value))}),e.jsx(C,{onClick:()=>ce(i,qe,Ve),children:"查詢"}),e.jsx(C,{variant:"surface",color:"orange",onClick:Ks,children:"模擬帳單(所有用戶)"})]}),T.length>0?e.jsxs(O,{mt:4,size:"sm",children:[e.jsx(z,{children:e.jsxs(w,{children:[e.jsx(a,{children:"姓名"}),e.jsx(a,{children:"門號"}),e.jsx(a,{children:"方案"}),e.jsx(a,{children:"基本費"}),e.jsx(a,{children:"通話費"}),e.jsx(a,{children:"簡訊費"}),e.jsx(a,{children:"上網費"}),e.jsx(a,{children:"折扣"}),e.jsx(a,{children:"總金額"}),e.jsx(a,{children:"帳單日"}),e.jsx(a,{children:"繳款時間"})]})}),e.jsx(U,{children:T.map((s,m)=>e.jsxs(w,{children:[e.jsx(l,{children:s.userName}),e.jsx(l,{children:s.phoneNumber}),e.jsx(l,{children:s.planName}),e.jsxs(l,{children:["$",s.baseFee.toFixed(2)]}),e.jsxs(l,{children:["$",s.callFee.toFixed(2)]}),e.jsxs(l,{children:["$",s.smsFee.toFixed(2)]}),e.jsxs(l,{children:["$",s.dataFee.toFixed(2)]}),e.jsxs(l,{children:["-$",s.discount.toFixed(2)]}),e.jsx(l,{children:e.jsxs("strong",{children:["$",s.totalAmount.toFixed(2)]})}),e.jsx(l,{children:new Date(s.issuedAt).toLocaleString()}),e.jsx(l,{children:s.planName!=="預付卡方案"?s.paidAt?new Date(s.paidAt).toLocaleString():"尚未繳款":"無繳款資訊"})]},m))})]}):e.jsx(p,{mt:4,children:"尚無帳單紀錄 (未產生)"})]})]}),x&&e.jsx(Ls,{open:x,children:e.jsxs(se,{children:[e.jsx(ks,{}),e.jsx(Ns,{children:e.jsxs(Ms,{children:[e.jsx(Es,{children:e.jsx(Bs,{children:"新增用戶"})}),e.jsx(Os,{children:e.jsx("form",{children:e.jsxs(ee,{children:[e.jsxs(D,{invalid:!!N.name,children:[e.jsx(A,{children:"姓名"}),e.jsx(y,{placeholder:"輸入姓名",...de("name")}),e.jsx(W,{children:(es=N.name)==null?void 0:es.message})]}),e.jsxs(D,{invalid:!!N.ssn,children:[e.jsx(A,{children:"SSN"}),e.jsx(y,{placeholder:"輸入 SSN",...de("ssn"),maxLength:10}),e.jsx(W,{children:(ss=N.ssn)==null?void 0:ss.message})]}),e.jsxs(D,{invalid:!!N.number,children:[e.jsx(A,{children:"門號"}),e.jsx(y,{placeholder:"輸入門號",...de("number"),maxLength:8}),e.jsx(W,{children:(ts=N.number)==null?void 0:ts.message})]}),e.jsxs(D,{invalid:!!N.subscriberType,children:[e.jsx(A,{children:"訂閱者類型"}),e.jsx(Z,{control:Ze,name:"subscriberType",render:({field:s})=>e.jsxs(Ie,{onValueChange:({value:m})=>{s.onChange(m)},onInteractOutside:()=>s.onBlur(),collection:Ke,children:[e.jsx(Ce,{name:s.name}),e.jsxs(_e,{children:[e.jsx(Fe,{children:e.jsx(De,{placeholder:"選擇訂閱者類型"})}),e.jsx(Ae,{children:e.jsx(Pe,{})})]}),e.jsx(Re,{children:e.jsx(Le,{children:Ke.items.map(m=>e.jsxs(ke,{item:m,children:[m.label,e.jsx(Ne,{})]},m.value))})})]})}),e.jsx(W,{children:(rs=N.subscriberType)==null?void 0:rs.message})]}),nt&&e.jsxs(D,{invalid:!!N.planId,children:[e.jsx(A,{children:"選擇方案"}),e.jsx(Z,{control:Ze,name:"planId",render:({field:s})=>e.jsxs(Ie,{onValueChange:({value:m})=>{s.onChange(m)},onInteractOutside:()=>s.onBlur(),collection:et,children:[e.jsx(Ce,{name:s.name}),e.jsxs(_e,{children:[e.jsx(Fe,{children:e.jsx(De,{placeholder:"請選擇方案"})}),e.jsx(Ae,{children:e.jsx(Pe,{})})]}),e.jsx(Re,{children:e.jsx(Le,{children:Qe.map(m=>e.jsxs(ke,{item:m,children:[m.name," ",m.monthlyFee,"元/月",e.jsx(Ne,{})]},m.id))})})]})}),e.jsx(W,{children:(ns=N.planId)==null?void 0:ns.message})]})]})})}),e.jsxs(zs,{children:[e.jsx(Us,{asChild:!0,children:e.jsx(C,{variant:"outline",onClick:()=>{he(),re(!1)},children:"取消"})}),e.jsx(C,{onClick:tt(at),children:"儲存"})]}),e.jsx($s,{asChild:!0,onClick:()=>{he(),re(!1)},children:e.jsx(qs,{size:"sm"})})]})})]})})]})},ps=h.lazy(()=>ie(()=>import("./MotorPage-Cq3_HChS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),on=h.lazy(()=>ie(()=>import("./CarPage-BOgTiaCb.js"),__vite__mapDeps([8,1,4,5,2,3,6,7]))),cn=h.lazy(()=>ie(()=>import("./WeaponCustomizer-DZCBwbjh.js"),__vite__mapDeps([9,1,10,11,3]))),dn=h.lazy(()=>ie(()=>import("./OIIA-DNLSikbm.js"),__vite__mapDeps([12,1,10,3]))),hn="2006908042",xn="https://xiuger.cc/callback",jn=`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${hn}&redirect_uri=${encodeURIComponent(xn)}&state=12345&scope=profile%20openid%20email`;function un(){const r=Gs(ze);return e.jsxs(Ft,{children:[e.jsx(b,{path:"/callback",element:e.jsx(Nr,{})}),e.jsx(b,{path:"/liff",element:e.jsx(Ur,{})}),e.jsxs(b,{path:"/",element:e.jsx(Pr,{}),children:[e.jsx(b,{path:"/",element:e.jsx(Or,{}),index:!0}),e.jsx(b,{path:"register",element:e.jsx(rn,{})}),e.jsx(b,{path:"login",element:e.jsx(nn,{onLogin:async i=>{try{const o=await f.post("/members/login",i),n={userId:o.data.id??null,displayName:o.data.displayName??null,pictureUrl:o.data.pictureUrl??null,userEmail:o.data.email??null};localStorage.setItem("token",o.data.token),localStorage.setItem("user",JSON.stringify(n)),r(n),window.location.href="/"}catch{alert("登入失敗")}},onLineLogin:()=>{window.location.href=jn},onRegister:()=>{window.location.href="/register"}})}),e.jsx(b,{path:"/about",element:e.jsx(Br,{})}),e.jsx(b,{path:"/project",element:e.jsx(Xr,{})}),e.jsx(b,{path:"/service",element:e.jsx($r,{})}),e.jsxs(b,{path:"/item",element:e.jsx(Vr,{}),children:[e.jsx(b,{index:!0,element:e.jsx(ps,{})}),e.jsx(b,{path:"motorcycle",element:e.jsx(ps,{})}),e.jsx(b,{path:"car",element:e.jsx(on,{})})]}),e.jsxs(b,{path:"/airsoft",element:e.jsx(an,{}),children:[e.jsx(b,{index:!0,element:e.jsx(js,{})}),e.jsx(b,{path:"dashboard",element:e.jsx(js,{})})]}),e.jsxs(b,{path:"/telecommunication",element:e.jsx(ln,{}),children:[e.jsx(b,{index:!0,element:e.jsx(ms,{})}),e.jsx(b,{path:"dashboard",element:e.jsx(ms,{})})]})]}),e.jsx(b,{path:"/customizer",element:e.jsx(Yr,{}),children:e.jsx(b,{index:!0,element:e.jsx(cn,{})})}),!1,e.jsx(b,{path:"oiia",element:e.jsx(dn,{})}),e.jsx(b,{path:"/*",element:e.jsx(Hr,{})})]})}Dt.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(jr,{children:e.jsx(At,{children:e.jsx(wr,{children:e.jsx(Pt,{children:e.jsx(un,{})})})})})}));export{Q as g};
