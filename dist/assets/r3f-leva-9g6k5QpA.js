import{r as u,bh as It,bi as ye,bj as Nt,bk as s,bl as zt,bm as jt,bn as Dt,bo as Mt,bp as L,bq as Vt,br as Lt,bs as At,bt as te,bu as Ut,bv as Ht,bw as Ft,bx as Wt,by as Bt,bz as Gt}from"./vendor-AmdHd4rH.js";function he(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Object.is(e[n[o]],t[n[o]]))return!1;return!0}function Yt(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function x(e,t){if(e==null)return{};var n=Yt(e,t),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}let _;(function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"})(_||(_={}));const Kt={[_.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[_.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[_.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[_.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[_.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[_.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[_.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[_.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[_.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[_.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[_.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Ye(e,t,...n){const[o,...r]=Kt[t](...n);console[e]("LEVA: "+o,...r)}const B=Ye.bind(null,"warn"),Xt=Ye.bind(null,"log"),qt=["value"],Jt=["schema"],Zt=["value"],Ke=[],Z={};function Pe(e){let{value:t}=e,n=x(e,qt);for(let o of Ke){const r=o(t,n);if(r)return r}}function Y(e,t){let{schema:n}=t,o=x(t,Jt);if(e in Z){B(_.ALREADY_REGISTERED_TYPE,e);return}Ke.push((r,a)=>n(r,a)&&e),Z[e]=o}function ge(e,t,n,o){const{normalize:r}=Z[e];if(r)return r(t,n,o);if(typeof t!="object"||!("value"in t))return{value:t};const{value:a}=t,i=x(t,Zt);return{value:a,settings:i}}function Qt(e,t,n,o,r,a){const{sanitize:i}=Z[e];return i?i(t,n,o,r,a):t}function _e(e,t,n){const{format:o}=Z[e];return o?o(t,n):t}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ie(Object(n),!0).forEach(function(o){en(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}const X=(e,t,n)=>e>n?n:e<t?t:e,tn=e=>{if(e===""||typeof e=="number")return e;try{const t=K(e);if(!isNaN(t))return t}catch{}return parseFloat(e)},nn=Math.log(10);function Ne(e){let t=Math.abs(+String(e).replace(".",""));if(t===0)return .01;for(;t!==0&&t%10===0;)t/=10;const n=Math.floor(Math.log(t)/nn)+1,o=Math.floor(Math.log10(Math.abs(e))),r=Math.pow(10,o-n);return Math.max(r,.001)}const le=(e,t,n)=>n===t?0:(X(e,t,n)-t)/(n-t),ce=(e,t,n)=>e*(n-t)+t,on=()=>"_"+Math.random().toString(36).substr(2,9),ze=/\(([0-9+\-*/^ .]+)\)/,je=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,De=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Me=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Ve=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Le=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function K(e){if(isNaN(Number(e)))if(ze.test(e)){const t=e.replace(ze,(n,o)=>String(K(o)));return K(t)}else if(je.test(e)){const t=e.replace(je,(n,o,r)=>String(Math.pow(Number(o),Number(r))));return K(t)}else if(De.test(e)){const t=e.replace(De,(n,o,r)=>String(Number(o)*Number(r)));return K(t)}else if(Me.test(e)){const t=e.replace(Me,(n,o,r)=>{if(r!=0)return String(Number(o)/Number(r));throw new Error("Division by zero")});return K(t)}else if(Ve.test(e)){const t=e.replace(Ve,(n,o,r)=>String(Number(o)+Number(r)));return K(t)}else if(Le.test(e)){const t=e.replace(Le,(n,o,r)=>String(Number(o)-Number(r)));return K(t)}else return Number(e);return Number(e)}function rn(e,t){return t.reduce((n,o)=>(e&&e.hasOwnProperty(o)&&(n[o]=e[o]),n),{})}function sn(e,t){const n=$({},e);return t.forEach(o=>o in e&&delete n[o]),n}function an(e,t){return e.reduce((n,o,r)=>Object.assign(n,{[t[r]]:o}),{})}function Xe(e){return Object.prototype.toString.call(e)==="[object Object]"}const ln=e=>Xe(e)&&Object.keys(e).length===0;let U;(function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"})(U||(U={}));let H;(function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"})(H||(H={}));const cn=["type","__customInput"],un=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],dn=["type"];function qe(e,t,n={},o){var r,a;if(typeof e!="object"||Array.isArray(e))return{type:o,input:e,options:$({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if("__customInput"in e){const{type:N,__customInput:R}=e,O=x(e,cn);return qe(R,t,O,N)}const{render:i,label:c,optional:l,order:d=0,disabled:f,hint:p,onChange:h,onEditStart:b,onEditEnd:g,transient:m}=e,y=x(e,un),w=$({render:i,key:t,label:c??t,hint:p,transient:m??!!h,onEditStart:b,onEditEnd:g,disabled:f,optional:l,order:d},n);let{type:E}=y,S=x(y,dn);if(E=o??E,E in U)return{type:E,input:S,options:w};let k;return o&&Xe(S)&&"value"in S?k=S.value:k=ln(S)?void 0:S,{type:E,input:k,options:$($({},w),{},{onChange:h,optional:(r=w.optional)!==null&&r!==void 0?r:!1,disabled:(a=w.disabled)!==null&&a!==void 0?a:!1})}}function fn(e,t,n,o){const r=qe(e,t),{type:a,input:i,options:c}=r;if(a)return a in U?r:{type:a,input:ge(a,i,n,o),options:c};let l=Pe(i);return l?{type:l,input:ge(l,i,n,o),options:c}:(l=Pe({value:i}),l?{type:l,input:ge(l,{value:i},n,o),options:c}:!1)}function Ae(e,t,n,o,r){const{value:a,type:i,settings:c}=e;e.value=Je({type:i,value:a,settings:c},t,n,o),e.fromPanel=r}const pn=function(t,n,o){this.type="LEVA_ERROR",this.message="LEVA: "+t,this.previousValue=n,this.error=o};function Je({type:e,value:t,settings:n},o,r,a){const i=e!=="SELECT"&&typeof o=="function"?o(t):o;let c;try{c=Qt(e,i,n,t,r,a)}catch(l){throw new pn(`The value \`${o}\` did not result in a correct value.`,t,l)}return ye(c,t)?t:c}const Ze=(e,t,n=!1)=>{let o=0;return function(){const r=arguments,a=n&&!o,i=()=>e.apply(this,r);window.clearTimeout(o),o=window.setTimeout(i,t),a&&i()}},Qe=e=>e.shiftKey?5:e.altKey?1/5:1,hn=["value"],gn=["min","max"],mn=e=>{if(typeof e=="number")return!0;if(typeof e=="string"){const t=parseFloat(e);return isNaN(t)?!1:e.substring((""+t).length).trim().length<4}return!1},et=(e,{min:t=-1/0,max:n=1/0,suffix:o})=>{const r=parseFloat(e);if(e===""||isNaN(r))throw Error("Invalid number");const a=X(r,t,n);return o?a+o:a},bn=(e,{pad:t=0,suffix:n})=>{const o=parseFloat(e).toFixed(t);return n?o+n:o},tt=e=>{let{value:t}=e,n=x(e,hn);const{min:o=-1/0,max:r=1/0}=n,a=x(n,gn);let i=parseFloat(t);const c=typeof t=="string"?t.substring((""+i).length):void 0;i=X(i,o,r);let l=n.step;l||(Number.isFinite(o)?Number.isFinite(r)?l=+(Math.abs(r-o)/100).toPrecision(1):l=+(Math.abs(i-o)/100).toPrecision(1):Number.isFinite(r)&&(l=+(Math.abs(r-i)/100).toPrecision(1)));const d=l?Ne(l)*10:Ne(i);l=l||d/10;const f=Math.round(X(Math.log10(1/d),0,2));return{value:c?i+c:i,settings:$({initialValue:i,step:l,pad:f,min:o,max:r,suffix:c},a)}},nt=(e,{step:t,initialValue:n})=>{const o=Math.round((e-n)/t);return n+o*t};var ot=Object.freeze({__proto__:null,schema:mn,sanitize:et,format:bn,normalize:tt,sanitizeStep:nt});function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},I.apply(this,arguments)}const rt=u.createContext({});function D(){return u.useContext(rt)}const we=u.createContext(null),it=u.createContext(null),st=u.createContext(null);function ie(){return u.useContext(it)}function vn(){return u.useContext(st)}const at=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ae(e,t){const[n,o]=e.split(" "),r={};return n!=="none"&&(r.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${n!=="default"&&n||t.borderColor}`),o&&(r.backgroundColor=o),r}const oe={$inputStyle:()=>e=>ae(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>ae(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>ae(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>ae(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:v,css:$i,createTheme:$n,globalCss:En,keyframes:Ei}=It({prefix:"leva",theme:at(),utils:$($({},oe),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":oe.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":oe.$focusStyle()(e)}),$hover:e=>({"&:hover":oe.$hoverStyle()(e)}),$active:e=>({"&:active":oe.$activeStyle()(e)})})}),yn=En({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function wn(e){const t=at();if(!e)return{theme:t,className:""};Object.keys(e).forEach(o=>{Object.assign(t[o],e[o])});const n=$n(t);return{theme:t,className:n.className}}function G(e,t){const{theme:n}=u.useContext(we);if(!(e in n)||!(t in n[e]))return B(_.THEME_ERROR,e,t),"";let o=t;for(;;){let r=n[e][o];if(typeof r=="string"&&r.charAt(0)==="$")o=r.substr(1);else return r}}const lt=v("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),ct=v("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${lt}`]:{paddingLeft:0}}),Sn=v(ct,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Cn=v("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Rn=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],xn=["onUpdate"];function Se(e){let{innerLabel:t,value:n,onUpdate:o,onChange:r,onKeyDown:a,type:i,id:c,inputType:l="text",rows:d=0}=e,f=x(e,Rn);const{id:p,emitOnEditStart:h,emitOnEditEnd:b,disabled:g}=D(),m=c||p,y=u.useRef(null),w=d>0,E=w?"textarea":"input",S=u.useCallback(R=>O=>{const z=O.currentTarget.value;R(z)},[]);s.useEffect(()=>{const R=y.current,O=S(z=>{o(z),b()});return R==null||R.addEventListener("blur",O),()=>R==null?void 0:R.removeEventListener("blur",O)},[S,o,b]);const k=u.useCallback(R=>{R.key==="Enter"&&S(o)(R)},[S,o]),N=Object.assign({as:E},w?{rows:d}:{},f);return s.createElement(Cn,{textArea:w},t&&typeof t=="string"?s.createElement(ct,null,t):t,s.createElement(lt,I({levaType:i,ref:y,id:m,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:S(r),onFocus:()=>h(),onKeyPress:k,onKeyDown:a,disabled:g},N)))}function On(e){let{onUpdate:t}=e,n=x(e,xn);const o=u.useCallback(a=>t(tn(a)),[t]),r=u.useCallback(a=>{const i=a.key==="ArrowUp"?1:a.key==="ArrowDown"?-1:0;if(i){a.preventDefault();const c=a.altKey?.1:a.shiftKey?10:1;t(l=>parseFloat(l)+i*c)}},[t]);return s.createElement(Se,I({},n,{onUpdate:o,onKeyDown:r,type:"number"}))}const ue=v("div",{}),be=v("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Tn=v("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${be}::after`]:{opacity:.6},[`${ue}:hover > & + ${be}::after`]:{opacity:.6},[`${ue}:hover > & > svg`]:{opacity:1}}),ut=v("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${ue}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),dt=v("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${ut} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),ft=v(dt,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),kn=v("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Pn=v("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),ve=v("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),_n=v("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${ve}`]:{pointerEvents:"auto"}}}}}),pt=v("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),In=v("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Nn=v(Mt,{fill:"$toolTipBackground"});function Ce({children:e}){const{className:t}=u.useContext(we);return s.createElement(Vt,{className:t},e)}const zn=["align"];function jn(){const{id:e,disable:t,disabled:n}=D();return s.createElement(s.Fragment,null,s.createElement(Pn,{id:e+"__disable",type:"checkbox",checked:!n,onChange:()=>t(!n)}),s.createElement("label",{htmlFor:e+"__disable"}))}function Dn(e){const{id:t,optional:n,hint:o}=D(),r=e.htmlFor||(t?{htmlFor:t}:null),a=!o&&typeof e.children=="string"?{title:e.children}:null;return s.createElement(s.Fragment,null,n&&s.createElement(jn,null),o!==void 0?s.createElement(zt,null,s.createElement(jt,{asChild:!0},s.createElement(ve,I({},r,e))),s.createElement(Dt,{side:"top",sideOffset:2},s.createElement(In,null,o,s.createElement(Nn,null)))):s.createElement(ve,I({},r,a,e)))}function F(e){let{align:t}=e,n=x(e,zn);const{value:o,label:r,key:a,disabled:i}=D(),{hideCopyButton:c}=vn(),l=!c&&a!==void 0,[d,f]=u.useState(!1),p=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:o??""})),f(!0)}catch{B(_.CLIPBOARD_ERROR,{[a]:o})}};return s.createElement(kn,{align:t,onPointerLeave:()=>f(!1)},s.createElement(Dn,n),l&&!i&&s.createElement("div",{title:`Click to copy ${typeof r=="string"?r:a} value`},d?s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),s.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):s.createElement("svg",{onClick:p,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),s.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Mn=["toggled"],Vn=v("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Re(e){let{toggled:t}=e,n=x(e,Mn);return s.createElement(Vn,I({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${t?0:-90}deg)`}},n),s.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Ln=["input"];function A(e){let{input:t}=e,n=x(e,Ln);return t?s.createElement(ft,n):s.createElement(dt,n)}function ht({value:e,type:t,settings:n,setValue:o}){const[r,a]=u.useState(_e(t,e,n)),i=u.useRef(e),c=u.useRef(n);c.current=n;const l=u.useCallback(f=>a(_e(t,f,c.current)),[t]),d=u.useCallback(f=>{try{o(f)}catch(p){const{type:h,previousValue:b}=p;if(h!=="LEVA_ERROR")throw p;l(b)}},[l,o]);return u.useEffect(()=>{ye(e,i.current)||l(e),i.current=e},[e,l]),{displayValue:r,onChange:a,onUpdate:d}}function se(e,t){const{emitOnEditStart:n,emitOnEditEnd:o}=D();return Nt(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const a=e(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),o==null||o()),a},t)}function An(e){const t=u.useRef(null),n=u.useRef(null),o=u.useRef(!1);return u.useEffect(()=>{const r=Ze(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)},250);return window.addEventListener("resize",r),o.current||(r(),o.current=!0),()=>window.removeEventListener("resize",r)},[e]),u.useEffect(()=>{n.current=t.current.getContext("2d")},[]),[t,n]}function gt(){const e=u.useRef(null),t=u.useRef({x:0,y:0}),n=u.useCallback(o=>{Object.assign(t.current,o),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)},[]);return[e,n]}const Un=["__refCount"],me=(e,t)=>{if(!e[t])return null;const n=e[t];return x(n,Un)};function Hn(e){const t=ie(),[n,o]=u.useState(me(t.getData(),e)),r=u.useCallback(d=>t.setValueAtPath(e,d,!0),[e,t]),a=u.useCallback(d=>t.setSettingsAtPath(e,d),[e,t]),i=u.useCallback(d=>t.disableInputAtPath(e,d),[e,t]),c=u.useCallback(()=>t.emitOnEditStart(e),[e,t]),l=u.useCallback(()=>t.emitOnEditEnd(e),[e,t]);return u.useEffect(()=>{o(me(t.getData(),e));const d=t.useStore.subscribe(f=>me(f.data,e),o,{equalityFn:he});return()=>d()},[t,e]),[n,{set:r,setSettings:a,disable:i,storeId:t.storeId,emitOnEditStart:c,emitOnEditEnd:l}]}const Fn=v("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),mt=v("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),$e=v("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),bt=v("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),vt=v("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Wn({value:e,min:t,max:n,onDrag:o,step:r,initialValue:a}){const i=u.useRef(null),c=u.useRef(null),l=u.useRef(0),d=G("sizes","scrubberWidth"),f=se(({event:h,first:b,xy:[g],movement:[m],memo:y})=>{if(b){const{width:E,left:S}=i.current.getBoundingClientRect();l.current=E-parseFloat(d),y=(h==null?void 0:h.target)===c.current?e:ce((g-S)/E,t,n)}const w=y+ce(m/l.current,0,n-t);return o(nt(w,{step:r,initialValue:a})),y}),p=le(e,t,n);return s.createElement(bt,I({ref:i},f()),s.createElement(mt,null,s.createElement(vt,{style:{left:0,right:`${(1-p)*100}%`}})),s.createElement($e,{ref:c,style:{left:`calc(${p} * (100% - ${d}))`}}))}const Bn=s.memo(({label:e,onUpdate:t,step:n,innerLabelTrim:o})=>{const[r,a]=u.useState(!1),i=se(({active:c,delta:[l],event:d,memo:f=0,first:p,last:h,target:b})=>(p&&b.requestPointerLock(),h&&document.exitPointerLock(),a(c),f+=l/2,Math.abs(f)>=1&&(t(g=>parseFloat(g)+Math.floor(f)*n*Qe(d)),f=0),f));return s.createElement(Sn,I({dragging:r,title:e.length>1?e:""},i()),e.slice(0,o))});function $t({label:e,id:t,displayValue:n,onUpdate:o,onChange:r,settings:a,innerLabelTrim:i=1}){const c=i>0&&s.createElement(Bn,{label:e,step:a.step,onUpdate:o,innerLabelTrim:i});return s.createElement(On,{id:t,value:String(n),onUpdate:o,onChange:r,innerLabel:c})}function Gn(){const e=D(),{label:t,value:n,onUpdate:o,settings:r,id:a}=e,{min:i,max:c}=r,l=c!==1/0&&i!==-1/0;return s.createElement(A,{input:!0},s.createElement(F,null,t),s.createElement(Fn,{hasRange:l},l&&s.createElement(Wn,I({value:parseFloat(n),onDrag:o},r)),s.createElement($t,I({},e,{id:a,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Yn}=ot,Kn=x(ot,["sanitizeStep"]);var Xn=$({component:Gn},Kn);const qn=(e,t)=>L().schema({options:L().passesAnyOf(L().object(),L().array())}).test(t),Jn=(e,{values:t})=>{if(t.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},Zn=(e,{values:t})=>t.indexOf(e),Qn=e=>{let{value:t,options:n}=e,o,r;return Array.isArray(n)?(r=n,o=n.map(a=>String(a))):(r=Object.values(n),o=Object.keys(n)),"value"in e?r.includes(t)||(o.unshift(String(t)),r.unshift(t)):t=r[0],Object.values(n).includes(t)||(n[String(t)]=t),{value:t,settings:{keys:o,values:r}}};var eo=Object.freeze({__proto__:null,schema:qn,sanitize:Jn,format:Zn,normalize:Qn});const to=v("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Ee=v("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),no=v("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Ee}:focus + &`]:{$focusStyle:""},[`${Ee}:hover + &`]:{$hoverStyle:""}});function oo({displayValue:e,value:t,onUpdate:n,id:o,settings:r,disabled:a}){const{keys:i,values:c}=r,l=u.useRef();return t===c[e]&&(l.current=i[e]),s.createElement(to,null,s.createElement(Ee,{id:o,value:e,onChange:d=>n(c[Number(d.currentTarget.value)]),disabled:a},i.map((d,f)=>s.createElement("option",{key:d,value:f},d))),s.createElement(no,null,l.current),s.createElement(Re,{toggled:!0}))}function ro(){const{label:e,value:t,displayValue:n,onUpdate:o,id:r,disabled:a,settings:i}=D();return s.createElement(A,{input:!0},s.createElement(F,null,e),s.createElement(oo,{id:r,value:t,displayValue:n,onUpdate:o,settings:i,disabled:a}))}var io=$({component:ro},eo);const so=e=>L().string().test(e),ao=e=>{if(typeof e!="string")throw Error("Invalid string");return e},lo=({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:typeof n=="number"?n:n?5:0}});var co=Object.freeze({__proto__:null,schema:so,sanitize:ao,normalize:lo});const uo=["displayValue","onUpdate","onChange","editable"],fo=v("div",{whiteSpace:"pre-wrap"});function po(e){let{displayValue:t,onUpdate:n,onChange:o,editable:r=!0}=e,a=x(e,uo);return r?s.createElement(Se,I({value:t,onUpdate:n,onChange:o},a)):s.createElement(fo,null,t)}function ho(){const{label:e,settings:t,displayValue:n,onUpdate:o,onChange:r}=D();return s.createElement(A,{input:!0},s.createElement(F,null,e),s.createElement(po,I({displayValue:n,onUpdate:o,onChange:r},t)))}var go=$({component:ho},co);const mo=e=>L().boolean().test(e),bo=e=>{if(typeof e!="boolean")throw Error("Invalid boolean");return e};var vo=Object.freeze({__proto__:null,schema:mo,sanitize:bo});const $o=v("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Eo({value:e,onUpdate:t,id:n,disabled:o}){return s.createElement($o,null,s.createElement("input",{id:n,type:"checkbox",checked:e,onChange:r=>t(r.currentTarget.checked),disabled:o}),s.createElement("label",{htmlFor:n},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function yo(){const{label:e,value:t,onUpdate:n,disabled:o,id:r}=D();return s.createElement(A,{input:!0},s.createElement(F,null,e),s.createElement(Eo,{value:t,onUpdate:n,id:r,disabled:o}))}var wo=$({component:yo},vo);const So=["locked"];function Co({value:e,id:t,valueKey:n,settings:o,onUpdate:r,innerLabelTrim:a}){const i=u.useRef(e[n]);i.current=e[n];const c=u.useCallback(d=>r({[n]:Je({type:"NUMBER",value:i.current,settings:o},d)}),[r,o,n]),l=ht({type:"NUMBER",value:e[n],settings:o,setValue:c});return s.createElement($t,{id:t,label:n,value:e[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:o,innerLabelTrim:a})}const Ro=v("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function xo(e){let{locked:t}=e,n=x(e,So);return s.createElement("svg",I({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?s.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):s.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function xe({value:e,onUpdate:t,settings:n,innerLabelTrim:o}){const{id:r,setSettings:a}=D(),{lock:i,locked:c}=n;return s.createElement(Ro,{withLock:i},i&&s.createElement(xo,{locked:c,onClick:()=>a({locked:!c})}),Object.keys(e).map((l,d)=>s.createElement(Co,{id:d===0?r:`${r}.${l}`,key:l,valueKey:l,value:e,settings:n[l],onUpdate:t,innerLabelTrim:o})))}const Et=(e,t)=>{const n={};let o=0,r=1/0;Object.entries(e).forEach(([a,i])=>{n[a]=tt($({value:i},t[a])).settings,o=Math.max(o,n[a].step),r=Math.min(r,n[a].pad)});for(let a in n){const{step:i,min:c,max:l}=t[a]||{};!isFinite(i)&&(!isFinite(c)||!isFinite(l))&&(n[a].step=o,n[a].pad=r)}return n},Oo=["lock"],To=["value"];function ko(e){const t=L().array().length(e).every.number(),n=o=>{if(!o||typeof o!="object")return!1;const r=Object.values(o);return r.length===e&&r.every(a=>isFinite(a))};return o=>t.test(o)||n(o)}function Po(e){return Array.isArray(e)?"array":"object"}function re(e,t,n){return Po(e)===t?e:t==="array"?Object.values(e):an(e,n)}const _o=(e,t,n)=>{const o=re(e,"object",t.keys);for(let i in o)o[i]=et(o[i],t[i]);const r=Object.keys(o);let a={};if(r.length===t.keys.length)a=o;else{const i=re(n,"object",t.keys);if(r.length===1&&t.locked){const c=r[0],l=o[c],d=i[c],f=d!==0?l/d:1;for(let p in i)p===c?a[c]=l:a[p]=i[p]*f}else a=$($({},i),o)}return re(a,t.format,t.keys)},Io=(e,t)=>re(e,"object",t.keys),No=e=>!!e&&("step"in e||"min"in e||"max"in e);function zo(e,t,n=[]){const{lock:o=!1}=t,r=x(t,Oo),a=Array.isArray(e)?"array":"object",i=a==="object"?Object.keys(e):n,c=re(e,"object",i),l=No(r)?i.reduce((f,p)=>Object.assign(f,{[p]:r}),{}):r,d=Et(c,l);return{value:a==="array"?e:c,settings:$($({},d),{},{format:a,keys:i,lock:o,locked:!1})}}function yt(e){return{schema:ko(e.length),normalize:t=>{let{value:n}=t,o=x(t,To);return zo(n,o,e)},format:(t,n)=>Io(t,n),sanitize:(t,n,o)=>_o(t,n,o)}}function jo(e){let t;const n=new Set,o=(d,f)=>{const p=typeof d=="function"?d(t):d;if(p!==t){const h=t;t=f?p:Object.assign({},t,p),n.forEach(b=>b(t,h))}},r=()=>t,a=(d,f=r,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=f(t);function b(){const g=f(t);if(!p(h,g)){const m=h;d(h=g,m)}}return n.add(b),()=>n.delete(b)},l={setState:o,getState:r,subscribe:(d,f,p)=>f||p?a(d,f,p):(n.add(d),()=>n.delete(d)),destroy:()=>n.clear()};return t=e(o,r,l),l}const Do=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ue=Do?u.useEffect:u.useLayoutEffect;function Mo(e){const t=typeof e=="function"?jo(e):e,n=(o=t.getState,r=Object.is)=>{const[,a]=u.useReducer(y=>y+1,0),i=t.getState(),c=u.useRef(i),l=u.useRef(o),d=u.useRef(r),f=u.useRef(!1),p=u.useRef();p.current===void 0&&(p.current=o(i));let h,b=!1;(c.current!==i||l.current!==o||d.current!==r||f.current)&&(h=o(i),b=!r(p.current,h)),Ue(()=>{b&&(p.current=h),c.current=i,l.current=o,d.current=r,f.current=!1});const g=u.useRef(i);Ue(()=>{const y=()=>{try{const E=t.getState(),S=l.current(E);d.current(p.current,S)||(c.current=E,p.current=S,a())}catch{f.current=!0,a()}},w=t.subscribe(y);return t.getState()!==g.current&&y(),w},[]);const m=b?h:p.current;return u.useDebugValue(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const o=[n,t];return{next(){const r=o.length<=0;return{value:o.shift(),done:r}}}},n}const Vo=e=>(t,n,o)=>{const r=o.subscribe;return o.subscribe=(i,c,l)=>{let d=i;if(c){const f=(l==null?void 0:l.equalityFn)||Object.is;let p=i(o.getState());d=h=>{const b=i(h);if(!f(p,b)){const g=p;c(p=b,g)}},l!=null&&l.fireImmediately&&c(p,p)}return r(d)},e(t,n,o)},Oe=(...e)=>e.filter(Boolean).join(".");function Lo(e){const t=e.split(".");return[t.pop(),t.join(".")||void 0]}function Ao(e,t){return Object.entries(rn(e,t)).reduce((n,[,{value:o,disabled:r,key:a}])=>(n[a]=r?void 0:o,n),{})}function Uo(e,t){const n=u.useRef();return ye(e,n.current)||(n.current=e),n.current}function wt(e,t){return u.useMemo(e,Uo(t))}function Ho(e){const t=u.useRef(null),n=u.useRef(null),o=u.useRef(!0);return u.useLayoutEffect(()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")},[]),u.useEffect(()=>{if(o.current){o.current=!1;return}let r;const a=t.current,i=()=>{e&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",i,{once:!0});const{height:c}=n.current.getBoundingClientRect();return a.style.height=c+"px",e||(a.style.overflow="hidden",r=window.setTimeout(()=>a.style.height="0px",50)),()=>{a.removeEventListener("transitionend",i),clearTimeout(r)}},[e]),{wrapperRef:t,contentRef:n}}const Fo=e=>{const[t,n]=u.useState(e.getVisiblePaths());return u.useEffect(()=>{n(e.getVisiblePaths());const o=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:he});return()=>o()},[e]),t};function Wo(e,t,n){return e.useStore(r=>{const a=$($({},n),r.data);return Ao(a,t)},he)}function St(e=3){const t=u.useRef(null),n=u.useRef(null),[o,r]=u.useState(!1),a=u.useCallback(()=>r(!0),[]),i=u.useCallback(()=>r(!1),[]);return u.useLayoutEffect(()=>{if(o){const{bottom:c,top:l,left:d}=t.current.getBoundingClientRect(),{height:f}=n.current.getBoundingClientRect(),p=c+f>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=d+"px",p==="down"?n.current.style.top=c+e+"px":n.current.style.bottom=window.innerHeight-l+e+"px"}},[e,o]),{popinRef:t,wrapperRef:n,shown:o,show:a,hide:i}}Ut([Gt]);const Bo={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};L.extend({color:()=>e=>te(e).isValid()});const Go=e=>L().color().test(e);function Ct(e,{format:t,hasAlpha:n,isString:o}){const r=Bo[t]+(o&&t!=="hex"?"String":""),a=e[r]();return typeof a=="object"&&!n?sn(a,["a"]):a}const Rt=(e,t)=>{const n=te(e);if(!n.isValid())throw Error("Invalid color");return Ct(n,t)},Yo=(e,t)=>Ct(te(e),$($({},t),{},{isString:!0,format:"hex"})),Ko=({value:e})=>{const t=Bt(e),n=t==="name"?"hex":t,o=typeof e=="object"?"a"in e:t==="hex"&&e.length===8||/^(rgba)|(hsla)|(hsva)/.test(e),r={format:n,hasAlpha:o,isString:typeof e=="string"};return{value:Rt(e,r),settings:r}};var Xo=Object.freeze({__proto__:null,schema:Go,sanitize:Rt,format:Yo,normalize:Ko});const qo=v("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Jo=v("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Zo=v("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function He(e,t){return t!=="rgb"?te(e).toRgb():e}function Qo({value:e,displayValue:t,settings:n,onUpdate:o}){const{emitOnEditStart:r,emitOnEditEnd:a}=D(),{format:i,hasAlpha:c}=n,{popinRef:l,wrapperRef:d,shown:f,show:p,hide:h}=St(),b=u.useRef(0),[g,m]=u.useState(()=>He(e,i)),y=c?Ft:Wt,w=()=>{m(He(e,i)),p(),r()},E=()=>{h(),a(),window.clearTimeout(b.current)},S=()=>{b.current=window.setTimeout(E,500)};return u.useEffect(()=>()=>window.clearTimeout(b.current),[]),s.createElement(s.Fragment,null,s.createElement(qo,{ref:l,active:f,onClick:()=>w(),style:{color:t}}),f&&s.createElement(Ce,null,s.createElement(pt,{onPointerUp:E}),s.createElement(Zo,{ref:d,onMouseEnter:()=>window.clearTimeout(b.current),onMouseLeave:k=>k.buttons===0&&S()},s.createElement(y,{color:g,onChange:o}))))}function er(){const{value:e,displayValue:t,label:n,onChange:o,onUpdate:r,settings:a}=D();return s.createElement(A,{input:!0},s.createElement(F,null,n),s.createElement(Jo,null,s.createElement(Qo,{value:e,displayValue:t,onChange:o,onUpdate:r,settings:a}),s.createElement(Se,{value:t,onChange:o,onUpdate:r})))}var tr=$({component:er},Xo);function nr(){const{label:e,displayValue:t,onUpdate:n,settings:o}=D();return s.createElement(A,{input:!0},s.createElement(F,null,e),s.createElement(xe,{value:t,settings:o,onUpdate:n}))}var or=$({component:nr},yt(["x","y","z"]));const rr=v("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),ir=v("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function sr({value:e,settings:t,onUpdate:n}){const o=u.useRef(),r=u.useRef(0),a=u.useRef(0),i=u.useRef(1),[c,l]=u.useState(!1),[d,f]=u.useState(!1),[p,h]=gt(),b=u.useRef(null),g=u.useRef(null);u.useLayoutEffect(()=>{if(c){const{top:T,left:M,width:V,height:j}=b.current.getBoundingClientRect();g.current.style.left=M+V/2+"px",g.current.style.top=T+j/2+"px"}},[c]);const{keys:[m,y],joystick:w}=t,E=w==="invertY"?1:-1,{[m]:{step:S},[y]:{step:k}}=t,N=G("sizes","joystickWidth"),R=G("sizes","joystickHeight"),O=parseFloat(N)*.8/2,z=parseFloat(R)*.8/2,W=u.useCallback(()=>{o.current||(f(!0),r.current&&h({x:r.current*O}),a.current&&h({y:a.current*-z}),o.current=window.setInterval(()=>{n(T=>{const M=S*r.current*i.current,V=E*k*a.current*i.current;return Array.isArray(T)?{[m]:T[0]+M,[y]:T[1]+V}:{[m]:T[m]+M,[y]:T[y]+V}})},16))},[O,z,n,h,S,k,m,y,E]),C=u.useCallback(()=>{window.clearTimeout(o.current),o.current=void 0,f(!1)},[]);u.useEffect(()=>{function T(M){i.current=Qe(M)}return window.addEventListener("keydown",T),window.addEventListener("keyup",T),()=>{window.clearTimeout(o.current),window.removeEventListener("keydown",T),window.removeEventListener("keyup",T)}},[]);const P=se(({first:T,active:M,delta:[V,j],movement:[q,Q]})=>{T&&l(!0);const ee=X(q,-O,O),ne=X(Q,-z,z);r.current=Math.abs(q)>Math.abs(ee)?Math.sign(q-ee):0,a.current=Math.abs(Q)>Math.abs(ne)?Math.sign(ne-Q):0;let Te=e[m],ke=e[y];M?(r.current||(Te+=V*S*i.current,h({x:ee})),a.current||(ke-=E*j*k*i.current,h({y:ne})),r.current||a.current?W():C(),n({[m]:Te,[y]:ke})):(l(!1),r.current=0,a.current=0,h({x:0,y:0}),C())});return s.createElement(rr,I({ref:b},P()),c&&s.createElement(Ce,null,s.createElement(ir,{ref:g,isOutOfBounds:d},s.createElement("div",null),s.createElement("span",{ref:p}))))}const ar=v("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function lr(){const{label:e,displayValue:t,onUpdate:n,settings:o}=D();return s.createElement(A,{input:!0},s.createElement(F,null,e),s.createElement(ar,{withJoystick:!!o.joystick},o.joystick&&s.createElement(sr,{value:t,settings:o,onUpdate:n}),s.createElement(xe,{value:t,settings:o,onUpdate:n})))}const cr=["joystick"],xt=yt(["x","y"]),ur=e=>{let{joystick:t=!0}=e,n=x(e,cr);const{value:o,settings:r}=xt.normalize(n);return{value:o,settings:$($({},r),{},{joystick:t})}};var dr=$($({component:lr},xt),{},{normalize:ur});const fr=e=>{if(e!==void 0){if(e instanceof File)try{return URL.createObjectURL(e)}catch{return}if(typeof e=="string"&&e.indexOf("blob:")===0)return e;throw Error("Invalid image format [undefined | blob | File].")}},pr=(e,t)=>typeof t=="object"&&"image"in t,hr=({image:e})=>({value:e});var gr=Object.freeze({__proto__:null,sanitize:fr,schema:pr,normalize:hr});const mr=v("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),br=v("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),vr=v("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),$r=v("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Er=v("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),yr=v("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function wr(){const{label:e,value:t,onUpdate:n,disabled:o}=D(),{popinRef:r,wrapperRef:a,shown:i,show:c,hide:l}=St(),d=u.useCallback(g=>{g.length&&n(g[0])},[n]),f=u.useCallback(g=>{g.stopPropagation(),n(void 0)},[n]),{getRootProps:p,getInputProps:h,isDragAccept:b}=Ht({maxFiles:1,accept:"image/*",onDrop:d,disabled:o});return s.createElement(A,{input:!0},s.createElement(F,null,e),s.createElement(mr,null,s.createElement(vr,{ref:r,hasImage:!!t,onPointerDown:()=>!!t&&c(),onPointerUp:l,style:{backgroundImage:t?`url(${t})`:"none"}}),i&&!!t&&s.createElement(Ce,null,s.createElement(pt,{onPointerUp:l,style:{cursor:"pointer"}}),s.createElement($r,{ref:a,style:{backgroundImage:`url(${t})`}})),s.createElement(br,p({isDragAccept:b}),s.createElement("input",h()),s.createElement(Er,null,b?"drop image":"click or drop")),s.createElement(yr,{onClick:f,disabled:!t})))}var Sr=$({component:wr},gr);const Fe=L().number(),Cr=(e,t)=>L().array().length(2).every.number().test(e)&&L().schema({min:Fe,max:Fe}).test(t),de=e=>({min:e[0],max:e[1]}),Ot=(e,{bounds:[t,n]},o)=>{const r=Array.isArray(e)?de(e):e,a={min:o[0],max:o[1]},{min:i,max:c}=$($({},a),r);return[X(Number(i),t,Math.max(t,c)),X(Number(c),Math.min(n,i),n)]},Rr=({value:e,min:t,max:n})=>{const o={min:t,max:n},r=Et(de(e),{min:o,max:o}),a=[t,n],i=$($({},r),{},{bounds:a});return{value:Ot(de(e),i,e),settings:i}};var xr=Object.freeze({__proto__:null,schema:Cr,format:de,sanitize:Ot,normalize:Rr});const Or=["value","bounds","onDrag"],Tr=["bounds"],kr=v("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Pr(e){let{value:t,bounds:[n,o],onDrag:r}=e,a=x(e,Or);const i=u.useRef(null),c=u.useRef(null),l=u.useRef(null),d=u.useRef(0),f=G("sizes","scrubberWidth"),p=se(({event:g,first:m,xy:[y],movement:[w],memo:E={}})=>{if(m){const{width:k,left:N}=i.current.getBoundingClientRect();d.current=k-parseFloat(f);const R=(g==null?void 0:g.target)===c.current||(g==null?void 0:g.target)===l.current;E.pos=ce((y-N)/k,n,o);const O=Math.abs(E.pos-t.min)-Math.abs(E.pos-t.max);E.key=O<0||O===0&&E.pos<=t.min?"min":"max",R&&(E.pos=t[E.key])}const S=E.pos+ce(w/d.current,0,o-n);return r({[E.key]:Yn(S,a[E.key])}),E}),h=`calc(${le(t.min,n,o)} * (100% - ${f} - 8px) + 4px)`,b=`calc(${1-le(t.max,n,o)} * (100% - ${f} - 8px) + 4px)`;return s.createElement(bt,I({ref:i},p()),s.createElement(mt,null,s.createElement(vt,{style:{left:h,right:b}})),s.createElement($e,{position:"left",ref:c,style:{left:h}}),s.createElement($e,{position:"right",ref:l,style:{right:b}}))}function _r(){const{label:e,displayValue:t,onUpdate:n,settings:o}=D(),r=x(o,Tr);return s.createElement(s.Fragment,null,s.createElement(A,{input:!0},s.createElement(F,null,e),s.createElement(kr,null,s.createElement(Pr,I({value:t},o,{onDrag:n})),s.createElement(xe,{value:t,settings:r,onUpdate:n,innerLabelTrim:0}))))}var Ir=$({component:_r},xr);const Nr=()=>{const e=new Map;return{on:(t,n)=>{let o=e.get(t);o===void 0&&(o=new Set,e.set(t,o)),o.add(n)},off:(t,n)=>{const o=e.get(t);o!==void 0&&(o.delete(n),o.size===0&&e.delete(t))},emit:(t,...n)=>{const o=e.get(t);if(o!==void 0)for(const r of o)r(...n)}}},zr=["type","value"],jr=["onChange","transient","onEditStart","onEditEnd"],Dr=function(){const t=Mo(Vo(()=>({data:{}}))),n=Nr();this.storeId=on(),this.useStore=t;const o={},r=new Set;this.getVisiblePaths=()=>{const i=this.getData(),c=Object.keys(i),l=[];Object.entries(o).forEach(([f,p])=>{p.render&&c.some(h=>h.indexOf(f)===0)&&!p.render(this.get)&&l.push(f+".")});const d=[];return r.forEach(f=>{f in i&&i[f].__refCount>0&&l.every(p=>f.indexOf(p)===-1)&&(!i[f].render||i[f].render(this.get))&&d.push(f)}),d},this.setOrderedPaths=i=>{i.forEach(c=>r.add(c))},this.orderPaths=i=>(this.setOrderedPaths(i),i),this.disposePaths=i=>{t.setState(c=>{const l=c.data;return i.forEach(d=>{if(d in l){const f=l[d];f.__refCount--,f.__refCount===0&&f.type in U&&delete l[d]}}),{data:l}})},this.dispose=()=>{t.setState(()=>({data:{}}))},this.getFolderSettings=i=>o[i]||{},this.getData=()=>t.getState().data,this.addData=(i,c)=>{t.setState(l=>{const d=l.data;return Object.entries(i).forEach(([f,p])=>{let h=d[f];if(h){const{type:b,value:g}=p,m=x(p,zr);b!==h.type?B(_.INPUT_TYPE_OVERRIDE,b):((h.__refCount===0||c)&&Object.assign(h,m),h.__refCount++)}else d[f]=$($({},p),{},{__refCount:1})}),{data:d}})},this.setValueAtPath=(i,c,l)=>{t.setState(d=>{const f=d.data;return Ae(f[i],c,i,this,l),{data:f}})},this.setSettingsAtPath=(i,c)=>{t.setState(l=>{const d=l.data;return d[i].settings=$($({},d[i].settings),c),{data:d}})},this.disableInputAtPath=(i,c)=>{t.setState(l=>{const d=l.data;return d[i].disabled=c,{data:d}})},this.set=(i,c)=>{t.setState(l=>{const d=l.data;return Object.entries(i).forEach(([f,p])=>{try{Ae(d[f],p,void 0,void 0,c)}catch{}}),{data:d}})},this.getInput=i=>{try{return this.getData()[i]}catch{B(_.PATH_DOESNT_EXIST,i)}},this.get=i=>{var c;return(c=this.getInput(i))===null||c===void 0?void 0:c.value},this.emitOnEditStart=i=>{n.emit(`onEditStart:${i}`,this.get(i),i,$($({},this.getInput(i)),{},{get:this.get}))},this.emitOnEditEnd=i=>{n.emit(`onEditEnd:${i}`,this.get(i),i,$($({},this.getInput(i)),{},{get:this.get}))},this.subscribeToEditStart=(i,c)=>{const l=`onEditStart:${i}`;return n.on(l,c),()=>n.off(l,c)},this.subscribeToEditEnd=(i,c)=>{const l=`onEditEnd:${i}`;return n.on(l,c),()=>n.off(l,c)};const a=(i,c,l)=>{const d={};return Object.entries(i).forEach(([f,p])=>{if(f==="")return B(_.EMPTY_KEY);let h=Oe(c,f);if(p.type===U.FOLDER){const b=a(p.schema,h,l);Object.assign(d,b),h in o||(o[h]=p.settings)}else if(f in l)B(_.DUPLICATE_KEYS,f,h,l[f].path);else{const b=fn(p,f,h,d);if(b){const{type:g,options:m,input:y}=b,{onChange:w,transient:E,onEditStart:S,onEditEnd:k}=m,N=x(m,jr);d[h]=$($($({type:g},N),y),{},{fromPanel:!0}),l[f]={path:h,onChange:w,transient:E,onEditStart:S,onEditEnd:k}}else B(_.UNKNOWN_INPUT,h,p)}}),d};this.getDataFromSchema=i=>{const c={};return[a(i,"",c),c]}},Tt=new Dr,Mr={collapsed:!1};function Vr(e,t){return{type:U.FOLDER,schema:e,settings:$($({},Mr),t)}}const We=e=>"__levaInput"in e,Lr=(e,t)=>{const n={},o=t?t.toLowerCase():null;return e.forEach(r=>{const[a,i]=Lo(r);(!o||a.toLowerCase().indexOf(o)>-1)&&At(n,i,{[a]:{__levaInput:!0,path:r}})}),n},Ar=["type","label","path","valueKey","value","settings","setValue","disabled"];function Ur(e){let{type:t,label:n,path:o,valueKey:r,value:a,settings:i,setValue:c,disabled:l}=e,d=x(e,Ar);const{displayValue:f,onChange:p,onUpdate:h}=ht({type:t,value:a,settings:i,setValue:c}),b=Z[t].component;return b?s.createElement(rt.Provider,{value:$({key:r,path:o,id:""+o,label:n,displayValue:f,value:a,onChange:p,onUpdate:h,settings:i,setValue:c,disabled:l},d)},s.createElement(_n,{disabled:l},s.createElement(b,null))):(B(_.NO_COMPONENT_FOR_TYPE,t,o),null)}const Hr=v("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Fr({onClick:e,settings:t,label:n}){const o=ie();return s.createElement(A,null,s.createElement(Hr,{disabled:t.disabled,onClick:()=>e(o.get)},n))}const Wr=v("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Br=v("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Gr=({label:e,opts:t})=>{let n=typeof e=="string"&&e.trim()===""?null:e,o=t;return typeof t.opts=="object"&&(o.label!==void 0&&(n=t.label),o=t.opts),{label:n,opts:o}};function Yr(e){const{label:t,opts:n}=Gr(e),o=ie();return s.createElement(A,{input:!!t},t&&s.createElement(F,null,t),s.createElement(Wr,null,Object.entries(n).map(([r,a])=>s.createElement(Br,{key:r,onClick:()=>a(o.get)},r))))}const Kr=v("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),kt=100;function Xr(e,t){e.push(t),e.length>kt&&e.shift()}const qr=u.forwardRef(function({initialValue:e},t){const n=G("colors","highlight3"),o=G("colors","elevation2"),r=G("colors","highlight1"),[a,i]=u.useMemo(()=>[te(r).alpha(.4).toRgbString(),te(r).alpha(.1).toRgbString()],[r]),c=u.useRef([e]),l=u.useRef(e),d=u.useRef(e),f=u.useRef(),p=u.useCallback((g,m)=>{if(!g)return;const{width:y,height:w}=g,E=new Path2D,S=y/kt,k=w*.05;for(let O=0;O<c.current.length;O++){const z=le(c.current[O],l.current,d.current),W=S*O,C=w-z*(w-k*2)-k;E.lineTo(W,C)}m.clearRect(0,0,y,w);const N=new Path2D(E);N.lineTo(S*(c.current.length+1),w),N.lineTo(0,w),N.lineTo(0,0);const R=m.createLinearGradient(0,0,0,w);R.addColorStop(0,a),R.addColorStop(1,i),m.fillStyle=R,m.fill(N),m.strokeStyle=o,m.lineJoin="round",m.lineWidth=14,m.stroke(E),m.strokeStyle=n,m.lineWidth=2,m.stroke(E)},[n,o,a,i]),[h,b]=An(p);return u.useImperativeHandle(t,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(d.current===void 0||g>d.current)&&(d.current=g),Xr(c.current,g),f.current=requestAnimationFrame(()=>p(h.current,b.current))}}),[h,b,p]),u.useEffect(()=>()=>cancelAnimationFrame(f.current),[]),s.createElement(Kr,{ref:h})}),Be=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),Jr=u.forwardRef(function({initialValue:e},t){const[n,o]=u.useState(Be(e));return u.useImperativeHandle(t,()=>({frame:r=>o(Be(r))}),[]),s.createElement("div",null,n)});function Ge(e){return typeof e=="function"?e():e.current}function Zr({label:e,objectOrFn:t,settings:n}){const o=u.useRef(),r=u.useRef(Ge(t));return u.useEffect(()=>{const a=window.setInterval(()=>{var i;document.hidden||(i=o.current)===null||i===void 0||i.frame(Ge(t))},n.interval);return()=>window.clearInterval(a)},[t,n.interval]),s.createElement(A,{input:!0},s.createElement(F,{align:"top"},e),n.graph?s.createElement(qr,{ref:o,initialValue:r.current}):s.createElement(Jr,{ref:o,initialValue:r.current}))}const Qr=["type","label","key"],ei={[U.BUTTON]:Fr,[U.BUTTON_GROUP]:Yr,[U.MONITOR]:Zr},ti=s.memo(({path:e})=>{const[t,{set:n,setSettings:o,disable:r,storeId:a,emitOnEditStart:i,emitOnEditEnd:c}]=Hn(e);if(!t)return null;const{type:l,label:d,key:f}=t,p=x(t,Qr);if(l in U){const h=ei[l];return s.createElement(h,I({label:d,path:e},p))}return l in Z?s.createElement(Ur,I({key:a+e,type:l,label:d,storeId:a,path:e,valueKey:f,setValue:n,setSettings:o,disable:r,emitOnEditStart:i,emitOnEditEnd:c},p)):(Xt(_.UNSUPPORTED_INPUT,l,e),null)});function ni({toggle:e,toggled:t,name:n}){return s.createElement(Tn,{onClick:()=>e()},s.createElement(Re,{toggled:t}),s.createElement("div",null,n))}const oi=({name:e,path:t,tree:n})=>{const o=ie(),r=Oe(t,e),{collapsed:a,color:i}=o.getFolderSettings(r),[c,l]=u.useState(!a),d=u.useRef(null),f=G("colors","folderWidgetColor"),p=G("colors","folderTextColor");return u.useLayoutEffect(()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",i||f),d.current.style.setProperty("--leva-colors-folderTextColor",i||p)},[i,f,p]),s.createElement(ue,{ref:d},s.createElement(ni,{name:e,toggled:c,toggle:()=>l(h=>!h)}),s.createElement(Pt,{parent:r,tree:n,toggled:c}))},Pt=s.memo(({isRoot:e=!1,fill:t=!1,flat:n=!1,parent:o,tree:r,toggled:a})=>{const{wrapperRef:i,contentRef:c}=Ho(a),l=ie(),d=([p,h])=>{var b;return(We(h)?(b=l.getInput(h.path))===null||b===void 0?void 0:b.order:l.getFolderSettings(Oe(o,p)).order)||0},f=Object.entries(r).sort((p,h)=>d(p)-d(h));return s.createElement(be,{ref:i,isRoot:e,fill:t,flat:n},s.createElement(ut,{ref:c,isRoot:e,toggled:a},f.map(([p,h])=>We(h)?s.createElement(ti,{key:h.path,valueKey:h.valueKey,path:h.path}):s.createElement(oi,{key:p,name:p,path:o,tree:h}))))}),ri=v("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${ft}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),_t=40,fe=v("i",{$flexCenter:"",width:_t,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),ii=v("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),si=v("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${fe}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),ai=v("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),li=v("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:_t}}}}),ci=s.forwardRef(({setFilter:e,toggle:t},n)=>{const[o,r]=u.useState(""),a=u.useMemo(()=>Ze(e,250),[e]),i=()=>{e(""),r("")},c=l=>{const d=l.currentTarget.value;t(!0),r(d)};return u.useEffect(()=>{a(o)},[o,a]),s.createElement(s.Fragment,null,s.createElement(ai,{ref:n,value:o,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:c}),s.createElement(fe,{onClick:()=>i(),style:{visibility:o?"visible":"hidden"}},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function ui({setFilter:e,onDrag:t,onDragStart:n,onDragEnd:o,toggle:r,toggled:a,title:i,drag:c,filterEnabled:l,from:d}){const[f,p]=u.useState(!1),h=u.useRef(null);u.useEffect(()=>{var g,m;f?(g=h.current)===null||g===void 0||g.focus():(m=h.current)===null||m===void 0||m.blur()},[f]);const b=se(({offset:[g,m],first:y,last:w})=>{t({x:g,y:m}),y&&n({x:g,y:m}),w&&o({x:g,y:m})},{filterTaps:!0,from:({offset:[g,m]})=>[(d==null?void 0:d.x)||g,(d==null?void 0:d.y)||m]});return u.useEffect(()=>{const g=m=>{m.key==="L"&&m.shiftKey&&m.metaKey&&p(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),s.createElement(s.Fragment,null,s.createElement(ii,{mode:c?"drag":void 0},s.createElement(fe,{active:!a,onClick:()=>r()},s.createElement(Re,{toggled:a,width:12,height:8})),s.createElement(li,I({},c?b():{},{drag:c,filterEnabled:l}),i===void 0&&c?s.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},s.createElement("circle",{cx:"2",cy:"2",r:"2"}),s.createElement("circle",{cx:"14",cy:"2",r:"2"}),s.createElement("circle",{cx:"26",cy:"2",r:"2"}),s.createElement("circle",{cx:"2",cy:"12",r:"2"}),s.createElement("circle",{cx:"14",cy:"12",r:"2"}),s.createElement("circle",{cx:"26",cy:"12",r:"2"})):i),l&&s.createElement(fe,{active:f,onClick:()=>p(g=>!g)},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},s.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),s.createElement(si,{toggled:f},s.createElement(ci,{ref:h,setFilter:e,toggle:r})))}const di=["store","hidden","theme","collapsed"];function fi(e){let{store:t,hidden:n=!1,theme:o,collapsed:r=!1}=e,a=x(e,di);const i=wt(()=>wn(o),[o]),[c,l]=u.useState(!r),d=typeof r=="object"?!r.collapsed:c,f=u.useMemo(()=>typeof r=="object"?p=>{typeof p=="function"?r.onChange(!p(!r.collapsed)):r.onChange(!p)}:l,[r]);return!t||n?null:s.createElement(we.Provider,{value:i},s.createElement(pi,I({store:t},a,{toggled:d,setToggle:f,rootClass:i.className})))}const pi=s.memo(({store:e,rootClass:t,fill:n=!1,flat:o=!1,neverHide:r=!1,oneLineLabels:a=!1,titleBar:i={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:l,setToggle:d})=>{var f,p;const h=Fo(e),[b,g]=u.useState(""),m=u.useMemo(()=>Lr(h,b),[h,b]),[y,w]=gt(),E=r||h.length>0,S=typeof i=="object"&&i.title||void 0,k=typeof i=="object"&&(f=i.drag)!==null&&f!==void 0?f:!0,N=typeof i=="object"&&(p=i.filter)!==null&&p!==void 0?p:!0,R=typeof i=="object"&&i.position||void 0,O=typeof i=="object"&&i.onDrag||void 0,z=typeof i=="object"&&i.onDragStart||void 0,W=typeof i=="object"&&i.onDragEnd||void 0;return s.useEffect(()=>{w({x:R==null?void 0:R.x,y:R==null?void 0:R.y})},[R,w]),yn(),s.createElement(st.Provider,{value:{hideCopyButton:c}},s.createElement(ri,{ref:y,className:t,fill:n,flat:o,oneLineLabels:a,hideTitleBar:!i,style:{display:E?"block":"none"}},i&&s.createElement(ui,{onDrag:C=>{w(C),O==null||O(C)},onDragStart:C=>z==null?void 0:z(C),onDragEnd:C=>W==null?void 0:W(C),setFilter:g,toggle:C=>d(P=>C??!P),toggled:l,title:S,drag:k,filterEnabled:N,from:R}),E&&s.createElement(it.Provider,{value:e},s.createElement(Pt,{isRoot:!0,fill:n,flat:o,tree:m,toggled:l}))))}),hi=["isRoot"];let pe=!1,J=null;function gi(e){let{isRoot:t=!1}=e,n=x(e,hi);return u.useEffect(()=>(pe=!0,!t&&J&&(J.remove(),J=null),()=>{t||(pe=!1)}),[t]),s.createElement(fi,I({store:Tt},n))}function mi(e){u.useEffect(()=>{pe||(J||(J=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(J),Lt.createRoot(J).render(s.createElement(gi,{isRoot:!0})))),pe=!0)},[e])}function bi(e,t,n,o,r){let a,i,c,l,d;return i=e,a=t,Array.isArray(n)&&(d=n),{schema:a,folderName:i,folderSettings:c,hookSettings:l,deps:d||[]}}function yi(e,t,n,o,r){const{folderName:a,schema:i,folderSettings:c,deps:l}=bi(e,t,n),d=typeof i=="function",f=u.useRef(!1),p=u.useRef(!0),h=wt(()=>{f.current=!0;const C=typeof i=="function"?i():i;return a?{[a]:Vr(C,c)}:C},l);mi(!0);const[g]=u.useState(()=>Tt),[m,y]=u.useMemo(()=>g.getDataFromSchema(h),[g,h]),[w,E,S,k,N]=u.useMemo(()=>{const C=[],P=[],T={},M={},V={};return Object.values(y).forEach(({path:j,onChange:q,onEditStart:Q,onEditEnd:ee,transient:ne})=>{C.push(j),q?(T[j]=q,ne||P.push(j)):P.push(j),Q&&(M[j]=Q),ee&&(V[j]=ee)}),[C,P,T,M,V]},[y]),R=u.useMemo(()=>g.orderPaths(w),[w,g]),O=Wo(g,E,m),z=u.useCallback(C=>{const P=Object.entries(C).reduce((T,[M,V])=>Object.assign(T,{[y[M].path]:V}),{});g.set(P,!1)},[g,y]),W=u.useCallback(C=>g.get(y[C].path),[g,y]);return u.useEffect(()=>{const C=!p.current&&f.current;return g.addData(m,C),p.current=!1,f.current=!1,()=>g.disposePaths(R)},[g,R,m]),u.useEffect(()=>{const C=[];return Object.entries(S).forEach(([P,T])=>{T(g.get(P),P,$({initial:!0,get:g.get},g.getInput(P)));const M=g.useStore.subscribe(V=>{const j=V.data[P];return[j.disabled?void 0:j.value,j]},([V,j])=>T(V,P,$({initial:!1,get:g.get},j)),{equalityFn:he});C.push(M)}),()=>C.forEach(P=>P())},[g,S]),u.useEffect(()=>{const C=[];return Object.entries(k).forEach(([P,T])=>C.push(g.subscribeToEditStart(P,T))),Object.entries(N).forEach(([P,T])=>C.push(g.subscribeToEditEnd(P,T))),()=>C.forEach(P=>P())},[k,N,g]),d?[O,z,W]:O}Y(H.SELECT,io);Y(H.IMAGE,Sr);Y(H.NUMBER,Xn);Y(H.COLOR,tr);Y(H.STRING,go);Y(H.BOOLEAN,wo);Y(H.INTERVAL,Ir);Y(H.VECTOR3D,or);Y(H.VECTOR2D,dr);export{gi as L,yi as u};
